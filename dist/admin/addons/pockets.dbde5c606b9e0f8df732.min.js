var vanillaadmin;(self.webpackChunkvanillaadmin=self.webpackChunkvanillaadmin||[]).push([[8341],{82999:function(e,t,n){"use strict";n.d(t,{S:function(){return l}});var r=n(22122),a=n(67294),o=n(89927),i=n(27165);function l(e){var t=(0,o.i6)().isInline,n=e.excludeFromICheck,l=void 0===n||n;return a.createElement(i.Z,(0,r.Z)({},e,{excludeFromICheck:l,onChange:function(t){return e.onChange&&e.onChange(!!t.target.checked)},isHorizontal:t}))}},45462:function(e,t,n){"use strict";n.d(t,{Y:function(){return m},k:function(){return p}});var r=n(22122),a=n(28481),o=n(81253),i=n(55293),l=n(55561),u=n(51467),c=n(61403),s=n(67294);function m(e){var t,n=e.value,r=e.onChange,a=e.inputName,o=e.language,u=e.jsonSchemaUri,c=(0,i.p)(),m=null!==(t=e.inputID)&&void 0!==t?t:c.inputID;return s.createElement("div",{className:"input-wrap"},s.createElement("input",{id:m,name:a,type:"hidden",value:n||"","aria-hidden":!0}),s.createElement(l.Z,{minimal:!0,language:null!=o?o:"text/html",jsonSchemaUri:u,value:n,onChange:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return r(null!=t?t:"")}))}))}function p(){document.querySelectorAll(".js-code-editor").forEach((function(e){if(e instanceof HTMLTextAreaElement){e.classList.remove("js-code-editor");var t=e.value;(0,u.Sy)(s.createElement(m.Uncontrolled,{initialValue:t,inputName:e.name,inputID:e.id}),e,void 0,{overwrite:!0})}else(0,c.KE)("Cannot mount a js-code-editor if it's not a <textarea />")}))}m.Uncontrolled=function(e){e.initialValue;var t=(0,o.Z)(e,["initialValue"]),n=(0,s.useState)(e.initialValue),i=(0,a.Z)(n,2),l=i[0],u=i[1];return s.createElement(m,(0,r.Z)({value:l||"",onChange:u},t))}},16190:function(e,t,n){"use strict";n.d(t,{r:function(){return c}});var r=n(67294),a=n(98674),o=n(47614),i=n(94184),l=n.n(i),u=n(55293);function c(e){var t=e.tag||"li",n=(0,a.hu)("formGroup-"),i=n+"-label";return r.createElement(t,{className:l()("form-group",e.isIndependant&&"row")},r.createElement(u.P.Provider,{value:{inputID:n,labelID:i,labelType:e.labelType||o.C.STANDARD}},r.createElement(o.B,e),e.children))}},55293:function(e,t,n){"use strict";n.d(t,{P:function(){return o},p:function(){return i}});var r=n(67294),a=n(51467),o=r.createContext(null);function i(){var e=(0,r.useContext)(o),t=(0,a._m)();return null===e&&t(new Error("Attempting to create a dashboard from component without a form group. Be sure to place it in a <DashboardFormGroup />")),e}},47614:function(e,t,n){"use strict";n.d(t,{C:function(){return r},B:function(){return i}});var r,a=n(67294),o=n(55293);!function(e){e.STANDARD="standard",e.WIDE="wide"}(r||(r={}));var i=function(e){var t=(0,o.p)(),n=t.inputID,i=t.labelID,l=(void 0!==e.labelType?e.labelType:r.STANDARD)===r.WIDE?"label-wrap-wide":"label-wrap";return a.createElement("div",{className:l,id:i},e.label&&a.createElement("label",{htmlFor:n},e.label),e.description&&a.createElement("div",{className:"info"},e.description),e.afterDescription)}},90302:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var r=n(22122),a=n(67294),o=n(94184),i=n.n(o);function l(e){return a.createElement("li",null,a.createElement("h2",(0,r.Z)({},e,{className:i()("subheading",e.className)})))}},70044:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var r=n(67294),a=n(55293),o=n(94184),i=n.n(o),l=n(47614),u=n(52046),c=n(13819),s=function(e){var t=(0,a.p)(),n=t.inputID,o=t.labelType,s=i()(e.className),m=o===l.C.WIDE?"input-wrap-right":"input-wrap";return r.createElement("div",{className:m},r.createElement(u.Z,{id:n,inputProps:e.inputProps,multiLineProps:e.multiLineProps,className:i()(e.inputProps?e.inputProps.className:null,s),noMargin:!0}),e.errors&&r.createElement(c.Z,{errors:e.errors}),e.afterInput)}},15420:function(e,t,n){"use strict";n.d(t,{U:function(){return s}});var r=n(22122),a=n(67294),o=n(89927),i=n(95116),l=n(59697),u=n(94184),c=n.n(u);function s(e){var t=(0,o.i6)(),n=t.onChange,u=t.value,s=t.isInline,m=void 0!==n?{onChange:function(){return n(e.value)},checked:u===e.value}:{};return a.createElement(i.Z,(0,r.Z)({},e,m,{isHorizontal:s,className:c()(e.className,(0,l.Q)().isDashboard)}))}},89927:function(e,t,n){"use strict";n.d(t,{i6:function(){return s},U7:function(){return m}});var r=n(67294),a=n(55293),o=n(94184),i=n.n(o),l=n(51467),u=n(47614),c=r.createContext(null);function s(){var e=(0,r.useContext)(c),t=(0,l._m)();return null===e&&t(new Error("Attempting to use a radio group without specifying a group. Be sure to wrap it in a <DashboardRadioGroup />")),e}function m(e){var t=(0,a.p)(),n=t.labelID,o=t.labelType===u.C.WIDE?"input-wrap-right":"input-wrap",l=e.type||"radioogroup";return r.createElement(c.Provider,{value:e},r.createElement("div",{className:i()(o,{inline:e.isInline},{grid:e.isGrid}),role:l,"aria-labelledby":n},e.children))}},67583:function(e,t,n){"use strict";n.d(t,{F:function(){return m}});var r=n(22122),a=n(55293),o=n(47614),i=n(13819),l=n(55897),u=n(94184),c=n.n(u),s=n(67294),m=function(e){var t=(0,a.p)(),n=t.inputID,u=t.labelType,m=t.labelID,p=u===o.C.WIDE?"input-wrap-right":"input-wrap";return s.createElement("div",{className:c()(p)},s.createElement(l.Z,(0,r.Z)({},e,{label:null,labelID:m,inputID:n,inputClassName:c()("form-control",e.inputClassName)})),e.errors&&s.createElement(i.Z,{errors:e.errors}))}},37154:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(67294),a=n(55293),o=n(47614),i=n(94184),l=n.n(i),u=n(51305),c=n(13819);function s(e){var t=(0,r.useContext)(a.P)||{},n=t.inputID,i=t.labelType===o.C.WIDE?"input-wrap-right":"input-wrap";return r.createElement("div",{className:i},r.createElement("label",{className:l()("toggle-wrap",{"toggle-wrap-on":e.checked,"toggle-wrap-off":!e.checked})},r.createElement("div",{className:l()({"toggle-wrap-active":e.inProgress})},r.createElement("input",{disabled:e.disabled||e.inProgress,id:n,type:"checkbox",className:l()((0,u.visibility)().visuallyHidden,"toggle-input"),checked:e.checked,onChange:function(t){return e.onChange(!!t.target.checked)}}),r.createElement("div",{className:"toggle-well"}),r.createElement("div",{className:"toggle-slider"}))),e.errors&&r.createElement(c.Z,{errors:e.errors}))}},61540:function(e,t,n){"use strict";n.d(t,{L:function(){return m}});var r=n(96156),a=n(87776),o=n(35138),i=n(41033),l=n(97133),u=n(52954);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=(0,o.yI)((function(){var e=(0,i.OF)(),t=(0,a.Y7)("dashboard"),n=t({padding:0}),o=(0,l.iv)(s({},(0,u.W)(18)),";label:dashboardStyles-extendRow;");return{formList:n,helpAsset:t("helpAsset",{fontSize:"inherit !important",marginBottom:e.gutter.size}),tokenInput:t("tokenInput",{fontSize:"inherit"}),selectOne:t("selectOne",s({},(0,r.Z)({},"&.SelectOne__value-container.inputText.inputText",{fontSize:"inherit"}))),extendRow:o}}))},97613:function(e,t,n){"use strict";n.d(t,{$:function(){return v},Y:function(){return h}});var r=n(92137),a=n(6610),o=n(63349),i=n(10379),l=n(46070),u=n(77608),c=n(96156),s=n(87757),m=n.n(s),p=n(40798);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var d=(0,n(99308).ZP)("@@roles"),v=function(e){(0,i.Z)(n,e);var t=f(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return e=t.call.apply(t,[this].concat(l)),(0,c.Z)((0,o.Z)(e),"getAllRoles",(function(){var t=(0,p.KP)(n.getAllACs,(0,r.Z)(m().mark((function t(){var n;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.get("/roles",{params:{limit:500}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))))({});return e.dispatch(t)})),e}return n}(p.ZP);function h(){return(0,p.LO)(v)}(0,c.Z)(v,"getAllACs",d.async("GET_ALL"))},61793:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(92137),a=n(6610),o=n(63349),i=n(10379),l=n(46070),u=n(77608),c=n(96156),s=n(87757),m=n.n(s),p=n(40798),f=n(99308),d=n(22964),v=n(23279),h=n.n(v);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var b=(0,f.ZP)("@@categorySuggestions"),y=function(e){(0,i.Z)(n,e);var t=g(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return e=t.call.apply(t,[this].concat(l)),(0,c.Z)((0,o.Z)(e),"internalLoadCategories",(function(t){var a,o=null!==(a=e.getState().forum.categories.suggestionsByQuery[t])&&void 0!==a?a:{status:d.Px.PENDING};if(o.status!==d.Px.LOADING&&o.status!==d.Px.SUCCESS){var i=(0,p.KP)(n.loadCategories,(0,r.Z)(m().mark((function n(){var r,a;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={query:t,expand:["breadcrumbs"],limit:10},n.next=3,e.api.get("/categories/search",{params:r});case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}),n)}))))({query:t});return e.dispatch(i)}})),(0,c.Z)((0,o.Z)(e),"loadCategories",h()(e.internalLoadCategories,100)),e}return n}(p.ZP);(0,c.Z)(y,"loadCategories",b.async("GET"))},59023:function(e,t,n){"use strict";n.d(t,{Er:function(){return f}});var r=n(22122),a=n(28481),o=n(64833),i=n(61793),l=n(67294),u=n(14494),c=n(22964),s=n(55897),m=n(40798),p=n(17239);function f(e,t){var n=(0,m.LO)(i.Z),r=(0,u.v9)((function(t){var n;return null!==(n=t.forum.categories.suggestionsByQuery[e])&&void 0!==n?n:{status:c.Px.PENDING}}));return(0,l.useEffect)((function(){(e||t)&&n.loadCategories(e)}),[e,t]),r}t.ZP=function(e){var t,n,i,u=(0,l.useState)(""),m=(0,a.Z)(u,2),d=m[0],v=m[1],h=(0,l.useState)(!1),g=(0,a.Z)(h,2),b=g[0],y=g[1],E=f(d,b),C=function(){y(!0)},O=e.multiple;E.status===c.Px.SUCCESS&&E.data&&(i=E.data.map((function(e){var t,n,r,a,o,i=null!==(t=null===(n=e.breadcrumbs)||void 0===n?void 0:n.length)&&void 0!==t?t:0;i>1&&(r=null===(a=e.breadcrumbs)||void 0===a||null===(o=a[i-2])||void 0===o?void 0:o.name);return{value:e.categoryID,label:e.name,data:{parentLabel:r}}})));var w,Z=E.status===c.Px.LOADING;return O?l.createElement(p.N,(0,r.Z)({onFocus:C},e,{placeholder:(0,o.t)("Search..."),isLoading:Z,onInputChange:v,label:null!==(w=e.label)&&void 0!==w?w:(0,o.t)("Community Category"),showIndicator:!0,options:i})):l.createElement(s.Z,(0,r.Z)({onFocus:C},e,{placeholder:(0,o.t)("Search..."),onInputChange:v,isLoading:Z,onChange:function(t){e.onChange&&e.onChange([t])},options:i,label:null!==(t=e.label)&&void 0!==t?t:(0,o.t)("Community Category"),value:(null!==(n=e.value)&&void 0!==n?n:[])[0]}))}},9450:function(e,t,n){"use strict";n.r(t);var r=n(18452),a=n(28481),o=n(67294),i=n(22122),l=n(96156),u=n(97613),c=n(14494),s=n(22964);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(){var e=(0,u.Y)().getAllRoles,t=(0,c.v9)((function(e){return e.roles.rolesByID}));return(0,o.useEffect)((function(){t.status===s.Px.PENDING&&e()}),[e,t]),t}var d=n(61403),v=n(17239);function h(e){var t,n,r=f(),a=(n=f()).data?p(p({},n),{},{data:Object.values(n.data).map((function(e){return{value:e.roleID,label:e.name}}))}):p(p({},n),{},{data:void 0});return o.createElement(v.N,(0,i.Z)({},e,{value:e.value.map((function(e){var t,n=null===(t=r.data)||void 0===t?void 0:t[e];return n?{label:n.name,value:n.roleID}:null})).filter(d.Dw),onChange:function(t){var n=null==t?void 0:t.map((function(e){return e.value}));e.onChange(n)},options:null!==(t=a.data)&&void 0!==t?t:[],isLoading:[s.Px.PENDING,s.Px.LOADING].includes(a.status)}))}var g=n(16190),b=n(25807),y=n(61540);var E=n(59023),C=n(22163),O=n(17617),w=n(94184),Z=n.n(w),P=n(82999),D=n(89927);var I=n(85061),S=n(45462),j=n(37442);function N(e){return o.createElement("div",{className:"form-group"},o.createElement("div",{className:"label-wrap"},o.createElement(j.ZM,{width:"35%",height:14}),o.createElement(j.a5,{height:6}),o.createElement(j.ZM,{width:"80%",height:10}),2===e.descriptionLines&&o.createElement(o.Fragment,null,o.createElement(j.a5,{height:4}),o.createElement(j.ZM,{width:"56%",height:10}))),o.createElement("div",{className:"input-wrap"},o.createElement("input",{className:"form-control",disabled:!0,"aria-hidden":!0,tabIndex:-1,style:{background:"#fff"}})))}var x=n(90302),k=n(90484);function F(e){var t=e.formKey,n=e.value,r=e.flatten,i=t.replace(".","-dot-");if(null==n)return o.createElement("input",{type:"hidden",value:"",name:i,style:{display:"none"}});if("object"===(0,k.Z)(n)){if(r){var l=(0,d.FX)(n,t);return o.createElement(o.Fragment,null,Object.entries(l).map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return o.createElement(F,{key:n,formKey:n,value:r})})))}var u=JSON.stringify(n);return o.createElement("input",{type:"hidden",value:u,name:i,style:{display:"none"}})}return o.createElement("input",{type:"hidden",value:n,name:i,style:{display:"none"}})}var T=n(55293),A=n(47614),L=n(13819),R=n(53353),M=function(e){var t=(0,T.p)(),n=t.inputID,r=t.labelType,a=t.labelID,l=r===A.C.WIDE?"input-wrap-right":"input-wrap";return o.createElement("div",{className:Z()(l)},o.createElement(R.G,(0,i.Z)({},e,{label:null,labelID:a,inputID:n,inputClassName:Z()("form-control",e.inputClassName)})),e.errors&&o.createElement(L.Z,{errors:e.errors}))},B=n(70044),G=n(15420),U=n(67583),W=n(37154),q=n(98674);function K(e){var t,n,r=e.formControl,i=e.schema,l=e.onChange,u=null!==(t=e.value)&&void 0!==t?t:i.default,c=(0,q.hu)("input");switch(r.inputType){case"textBox":var s="textarea"===r.type,m="number"===r.type,p="url"===r.type,f=m?"number":p?"url":"text";return o.createElement(B.D,{inputProps:{value:null!=u?u:"",onChange:function(e){return l(e.target.value)},maxLength:"string"===i.type?i.maxLength:void 0,type:s?void 0:f,placeholder:r.placeholder,multiline:!!s},multiLineProps:s?{rows:4}:void 0});case"codeBox":return o.createElement(S.Y,{value:u,onChange:l,language:r.language||"text/html",jsonSchemaUri:r.jsonSchemaUri});case"radio":return o.createElement(D.U7,{value:u,onChange:l},Object.entries(null!==(n=r.choices.staticOptions)&&void 0!==n?n:[]).map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return o.createElement(G.U,{name:c,key:n,label:r,value:n})})));case"dropDown":var d=r.choices,v=d.api,h=d.staticOptions;if(v)return o.createElement(M,{isClearable:!e.isRequired,placeholder:r.placeholder||void 0,value:u,onChange:function(e){return l(null==e?void 0:e.value)},api:v});var g=h?Object.entries(h).map((function(e){var t=(0,a.Z)(e,2);return{value:t[0],label:t[1]}})):[];return o.createElement(U.F,{isClearable:!e.isRequired,value:g.find((function(e){var t=e.value;return"true"===t?t=!0:"false"===t&&(t=!1),t==u})),placeholder:r.placeholder||void 0,onChange:function(e){return l(null==e?void 0:e.value)},options:g});case"checkBox":case"toggle":return o.createElement(W.A,{checked:u,onChange:l});default:return o.createElement("div",null,r.inputType," is not supported")}}var V=n(64833);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){var t,n=e.rootInstance,r=e.instance,a=e.schema,u=e.rootSchema,c=e.path,s=e.FormTabs,m=e.onChange,p=a["x-control"],f=p.property,d=a.oneOf.map((function(e){return e.properties[f].const})),v=null!==(t=r[f])&&void 0!==t?t:d[0],h=a.oneOf.map((function(t){var n=t.properties[f].const;return{tabID:n,contents:o.createElement(le,(0,i.Z)({},e,{inheritSchema:a,schema:t})),label:p.choices.staticOptions[n]}}));return s?o.createElement(s,{tabs:h,selectedTabID:v,onSelectTab:function(e){return m(z(z({},r),{},(0,l.Z)({},f,e)))},path:c,rootInstance:n,instance:r,rootSchema:u,schema:a}):null}var Q=n(81253),X=n(87219),_=n(27361),J=n.n(_),$=n(36968),ee=n.n($);function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.entries(e).flatMap((function(e){var n=(0,a.Z)(e,2),r=n[0],o=n[1];return"string"==typeof o?(o.match(/{[^}]+}/g)||[]).map((function(e){var n=e.substr(1,e.length-2).split(".");return{path:[].concat((0,I.Z)(t),[r]),ref:n}})):"object"===(0,k.Z)(o)?te(o,[].concat((0,I.Z)(t),[r])):[]}))}function ne(e){var t=e.FormControl,n=(0,Q.Z)(e,["FormControl"]),r=n.control,a=n.rootInstance,l=(n.path,o.useMemo((function(){return te(r)}),[r])),u=o.useMemo((function(){return l.map((function(e){var t=e.ref;try{var n=J()(a,t);return void 0===n?"":n}catch(e){return""}}))}),[a,l]),c=o.useMemo((function(){return(0,X.ZP)(r,(function(e){l.forEach((function(t,n){var r=t.path,a=t.ref,o=J()(e,r),i=u[n],l=o.replace("{".concat(a.join("."),"}"),i);ee()(e,r,l)}))}))}),[(0,d.Q6)(u),l]);return o.createElement(t,(0,i.Z)({},n,{control:c}))}function re(e){var t=e.Form,n=e.children,r=(0,Q.Z)(e,["Form","children"]),a=r.form,l=r.rootInstance,u=(r.path,o.useMemo((function(){return te(a)}),[a])),c=o.useMemo((function(){return u.map((function(e){var t=e.ref;try{var n=J()(l,t);return void 0===n?"":n}catch(e){return""}}))}),[l,u]),s=o.useMemo((function(){return(0,X.ZP)(a,(function(e){u.forEach((function(t,n){var r=t.path,a=t.ref,o=J()(e,r),i=c[n],l=o.replace("{".concat(a.join("."),"}"),i);ee()(e,r,l)}))}))}),[(0,d.Q6)(c),u]);return t?o.createElement(t,(0,i.Z)({},r,{form:s}),n):null}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=function(e){return o.createElement(o.Fragment,null,e.children)};function le(e){var t,n=e.path,r=e.rootSchema,i=e.instance,u=e.rootInstance,c=e.onChange,s=e.FormControl,m=e.Form,p=void 0===m?ie:m,f=e.FormSection,v=void 0===f?ie:f,h=e.FormControlGroup,g=void 0===h?ie:h,b=e.inheritSchema?oe(oe({},e.inheritSchema),e.schema):e.schema,y=b["x-form"],E=e.schema["x-control"],C=E&&(Array.isArray(E)?E:[E]);if("object"===b.type&&!Array.isArray(E)&&"tabs"===(null==E?void 0:E.inputType))return o.createElement(Y,e);if(!("object"!==b.type||C&&null!==(t=C[0])&&void 0!==t&&t.inputType)){var O,w=null!==(O=b.required)&&void 0!==O?O:[],Z=null;!Array.isArray(E)&&null!=E&&E.label&&(Z=null==E?void 0:E.label);var P=o.createElement(v,{path:n,title:Z,instance:i,rootInstance:u,schema:b,rootSchema:r},Object.entries(b.properties).map((function(e){var t=(0,a.Z)(e,2),m=t[0],p=t[1];return o.createElement(le,{key:m,path:[].concat((0,I.Z)(n),[m]),schema:p,rootSchema:r,instance:i[m],rootInstance:u,FormSection:v,FormControl:s,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){c(oe(oe({},i),{},(0,l.Z)({},m,e)))})),isRequired:w.includes(m)})})));return y?o.createElement(re,{path:n,form:y,Form:p,instance:i,rootInstance:u,schema:b,rootSchema:r},P):P}var D=C&&C.filter(d.Dw);return D&&D.length?o.createElement(g,{path:n,controls:D,instance:i,rootInstance:u,schema:b,rootSchema:r},D.map((function(t){return o.createElement(ne,{key:n.join("/"),path:n,control:t,instance:i,rootInstance:u,schema:b,rootSchema:r,onChange:c,required:e.isRequired,FormControl:s})}))):null}var ue=(0,o.forwardRef)((function(e,t){var n=e.instance,r=e.Form,a=e.FormSection,l=e.FormTabs,u=e.FormControl,c=e.FormControlGroup,s=(0,o.useMemo)((function(){return"string"==typeof e.schema?JSON.parse(e.schema):e.schema}),[e.schema]),m={Form:(0,o.useMemo)((function(){return r}),[]),FormSection:(0,o.useMemo)((function(){return a}),[]),FormTabs:(0,o.useMemo)((function(){return l}),[]),FormControl:(0,o.useMemo)((function(){return u}),[]),FormControlGroup:(0,o.useMemo)((function(){return c}),[])};return o.createElement(le,(0,i.Z)({},e,m,{path:[],schema:s,rootSchema:s,rootInstance:n}))}));function ce(e){return 0===Object.entries(e.schema).length?o.createElement("div",null,(0,V.t)("There are no configuration options for this widget.")):o.createElement(ue,(0,i.Z)({},e,{FormSection:function(e){var t=e.title,n=e.children;return o.createElement(o.Fragment,null,t&&o.createElement(x.X,null,t),n)},FormControl:function(e){var t,n=e.instance,r=e.schema,a=e.onChange,i=e.control,l=e.required;return o.createElement(g.r,{label:null!==(t=i.label)&&void 0!==t?t:(0,V.t)("(Untitled)"),description:i.description},o.createElement(K,{formControl:i,value:n,schema:r,onChange:a,isRequired:l}))}}))}var se={searchUrl:"/widgets",singleUrl:"/widgets/%s",valueKey:"widgetID",labelKey:"name",excludeLookups:["raw"],processOptions:function(e){return[{label:(0,b.t)("Custom HTML"),value:"raw"}].concat((0,I.Z)(e))}};(0,r.Tk)("pocket-multi-role-input",(function(e){var t=(0,o.useState)(e.initialValue&&""!==e.initialValue?e.initialValue:[]),n=(0,a.Z)(t,2),r=n[0],i=n[1];return o.createElement(g.r,{label:(0,b.t)("Roles"),tag:"div"},o.createElement("div",{className:"input-wrap"},o.createElement(h,{showIndicator:!0,className:(0,y.L)().tokenInput,label:"",value:null!=r?r:[],onChange:function(e){i(null!=e?e:[])},menuPlacement:"auto"})),!r||0===r.length&&o.createElement("input",{name:e.fieldName+[],type:"hidden",value:[]}),r&&r.map((function(t,n){return o.createElement("input",{key:n,name:e.fieldName+"[]",type:"hidden",value:t})})))})),(0,r.Tk)("pocket-category-input",(function(e){var t=(0,o.useState)(e.label&&e.initialValue?{label:e.label,value:e.initialValue}:void 0),n=(0,a.Z)(t,2),r=n[0],i=n[1],l=(0,o.useState)(e.inheritCategory),u=(0,a.Z)(l,2),c=u[0],s=u[1],m=(0,C.t)();(0,O.N6)().applyInputCSSRules();var p=r&&r.value;return o.createElement(g.r,{label:(0,b.t)("Category"),tag:"div"},o.createElement("div",{className:"input-wrap"},o.createElement("div",{className:m.inputWrap},o.createElement(E.ZP,{placeholder:(0,b.t)("Select..."),label:null,className:(0,y.L)().selectOne,onChange:function(e){i(e[0])},value:r?[r]:[]})),o.createElement("input",{name:e.fieldName,type:"hidden",value:null!=p?p:""}),o.createElement("div",{className:Z()("checkbox",m.checkBoxAfterInput)},o.createElement(D.U7,null,o.createElement(P.S,{checked:!!p&&c,onChange:function(){s(!c)},label:(0,b.t)("Apply to subcategories"),disabled:!p}))),o.createElement("input",{name:"InheritCategory",type:"hidden",value:"".concat(c?1:0)})))})),(0,r.Tk)("PocketContentForm",(function(e){var t,n,r=e.initialWidgetParameters,i=e.initialBody,l="widget"===e.format&&e.widgetID?e.widgetID:"raw",u=(0,o.useState)("raw"===l?{label:(0,b.t)("Custom HTML"),value:"raw"}:null),c=(0,a.Z)(u,2),s=c[0],m=c[1],p=(0,o.useState)(0),f=(0,a.Z)(p,2),d=f[0],v=f[1],h=(0,o.useState)(null!==(t=e.initialWidgetParameters)&&void 0!==t?t:{}),y=(0,a.Z)(h,2),E=y[0],C=y[1],O=(0,o.useState)(""),w=(0,a.Z)(O,2),Z=w[0],P=w[1];return(0,o.useEffect)((function(){C(null!=r?r:{}),v((function(e){return e+1}))}),[r]),(0,o.useEffect)((function(){P(null!=i?i:""),v((function(e){return e+1}))}),[i]),o.createElement(o.Fragment,null,o.createElement("ul",null,o.createElement(g.r,{label:(0,b.t)("Type"),description:(0,b.t)("Create your own custom Pocket, or configure one of our existing widgets.")},"raw"===(null==s?void 0:s.value)?o.createElement(F,{formKey:"Format",value:s.value}):o.createElement(o.Fragment,null,o.createElement(F,{formKey:"Format",value:"widget"}),o.createElement(F,{formKey:"WidgetID",value:null==s?void 0:s.value})),o.createElement(M,{onChange:function(e){m(e)},isClearable:!1,onInitialValueLoaded:m,value:null!==(n=null==s?void 0:s.value)&&void 0!==n?n:l,api:se}))),!s||e.forceLoading?o.createElement("ul",null,o.createElement(x.X,null,o.createElement(j.ZM,{height:18,width:"200px"})),o.createElement(N,{descriptionLines:2}),o.createElement(N,null),o.createElement(N,null)):o.createElement("section",null,o.createElement(x.X,null,s.label),"raw"===s.value?o.createElement(g.r,{label:(0,b.t)("Custom HTML"),description:(0,b.t)("Enter the text of the pocket. This will be output exactly as you type it so make sure that you enter valid HTML.")},o.createElement(S.Y.Uncontrolled,{key:d,inputName:"Body",initialValue:Z})):o.createElement(o.Fragment,null,o.createElement(ce,{key:d,schema:s.data.schema,onChange:C,instance:E}),o.createElement(F,{formKey:"WidgetParameters",value:E}))))}),{bypassPortalManager:!0,unmountBeforeRender:!0})}},function(e){"use strict";var t=function(t){return e(e.s=t)};e.O(0,[8780,5163,9833,5852,6936,9494,7014,3269,8520,9734,336,4556,6708,5096,9283,7052,3854,9841,5677,390,5729,5449,5187,4926,3432,3079,4682,4065,3509,3360,4211,2492,7086,2167,9584,1467,2004],(function(){return t(2702),t(9450)}));var n=e.O();vanillaadmin=n}]);