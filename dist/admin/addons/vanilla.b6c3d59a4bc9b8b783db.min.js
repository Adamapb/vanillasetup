var vanillaadmin;(self.webpackChunkvanillaadmin=self.webpackChunkvanillaadmin||[]).push([[1899],{82999:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var r=n(22122),a=n(67294),o=n(89927),i=n(27165);function u(e){var t=(0,o.i6)().isInline,n=e.excludeFromICheck,u=void 0===n||n;return a.createElement(i.Z,(0,r.Z)({},e,{excludeFromICheck:u,onChange:function(t){return e.onChange&&e.onChange(!!t.target.checked)},isHorizontal:t}))}},16190:function(e,t,n){"use strict";n.d(t,{r:function(){return c}});var r=n(67294),a=n(98674),o=n(47614),i=n(94184),u=n.n(i),l=n(55293);function c(e){var t=e.tag||"li",n=(0,a.hu)("formGroup-"),i=n+"-label";return r.createElement(t,{className:u()("form-group",e.isIndependant&&"row")},r.createElement(l.P.Provider,{value:{inputID:n,labelID:i,labelType:e.labelType||o.C.STANDARD}},r.createElement(o.B,e),e.children))}},55293:function(e,t,n){"use strict";n.d(t,{P:function(){return o},p:function(){return i}});var r=n(67294),a=n(51467),o=r.createContext(null);function i(){var e=(0,r.useContext)(o),t=(0,a._m)();return null===e&&t(new Error("Attempting to create a dashboard from component without a form group. Be sure to place it in a <DashboardFormGroup />")),e}},47614:function(e,t,n){"use strict";n.d(t,{C:function(){return r},B:function(){return i}});var r,a=n(67294),o=n(55293);!function(e){e.STANDARD="standard",e.WIDE="wide"}(r||(r={}));var i=function(e){var t=(0,o.p)(),n=t.inputID,i=t.labelID,u=(void 0!==e.labelType?e.labelType:r.STANDARD)===r.WIDE?"label-wrap-wide":"label-wrap";return a.createElement("div",{className:u,id:i},e.label&&a.createElement("label",{htmlFor:n},e.label),e.description&&a.createElement("div",{className:"info"},e.description),e.afterDescription)}},15420:function(e,t,n){"use strict";n.d(t,{U:function(){return s}});var r=n(22122),a=n(67294),o=n(89927),i=n(95116),u=n(59697),l=n(94184),c=n.n(l);function s(e){var t=(0,o.i6)(),n=t.onChange,l=t.value,s=t.isInline,d=void 0!==n?{onChange:function(){return n(e.value)},checked:l===e.value}:{};return a.createElement(i.Z,(0,r.Z)({},e,d,{isHorizontal:s,className:c()(e.className,(0,u.Q)().isDashboard)}))}},89927:function(e,t,n){"use strict";n.d(t,{i6:function(){return s},U7:function(){return d}});var r=n(67294),a=n(55293),o=n(94184),i=n.n(o),u=n(51467),l=n(47614),c=r.createContext(null);function s(){var e=(0,r.useContext)(c),t=(0,u._m)();return null===e&&t(new Error("Attempting to use a radio group without specifying a group. Be sure to wrap it in a <DashboardRadioGroup />")),e}function d(e){var t=(0,a.p)(),n=t.labelID,o=t.labelType===l.C.WIDE?"input-wrap-right":"input-wrap",u=e.type||"radioogroup";return r.createElement(c.Provider,{value:e},r.createElement("div",{className:i()(o,{inline:e.isInline},{grid:e.isGrid}),role:u,"aria-labelledby":n},e.children))}},67583:function(e,t,n){"use strict";n.d(t,{F:function(){return d}});var r=n(22122),a=n(55293),o=n(47614),i=n(13819),u=n(55897),l=n(94184),c=n.n(l),s=n(67294),d=function(e){var t=(0,a.p)(),n=t.inputID,l=t.labelType,d=t.labelID,f=l===o.C.WIDE?"input-wrap-right":"input-wrap";return s.createElement("div",{className:c()(f)},s.createElement(u.Z,(0,r.Z)({},e,{label:null,labelID:d,inputID:n,inputClassName:c()("form-control",e.inputClassName)})),e.errors&&s.createElement(i.Z,{errors:e.errors}))}},61540:function(e,t,n){"use strict";n.d(t,{L:function(){return d}});var r=n(96156),a=n(87776),o=n(35138),i=n(41033),u=n(97133),l=n(52954);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,o.yI)((function(){var e=(0,i.OF)(),t=(0,a.Y7)("dashboard"),n=t({padding:0}),o=(0,u.iv)(s({},(0,l.W)(18)),";label:dashboardStyles-extendRow;");return{formList:n,helpAsset:t("helpAsset",{fontSize:"inherit !important",marginBottom:e.gutter.size}),tokenInput:t("tokenInput",{fontSize:"inherit"}),selectOne:t("selectOne",s({},(0,r.Z)({},"&.SelectOne__value-container.inputText.inputText",{fontSize:"inherit"}))),extendRow:o}}))},61793:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(92137),a=n(6610),o=n(63349),i=n(10379),u=n(46070),l=n(77608),c=n(96156),s=n(87757),d=n.n(s),f=n(40798),p=n(99308),v=n(22964),m=n(23279),g=n.n(m);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var b=(0,p.ZP)("@@categorySuggestions"),y=function(e){(0,i.Z)(n,e);var t=h(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,u=new Array(i),l=0;l<i;l++)u[l]=arguments[l];return e=t.call.apply(t,[this].concat(u)),(0,c.Z)((0,o.Z)(e),"internalLoadCategories",(function(t){var a,o=null!==(a=e.getState().forum.categories.suggestionsByQuery[t])&&void 0!==a?a:{status:v.Px.PENDING};if(o.status!==v.Px.LOADING&&o.status!==v.Px.SUCCESS){var i=(0,f.KP)(n.loadCategories,(0,r.Z)(d().mark((function n(){var r,a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={query:t,expand:["breadcrumbs"],limit:10},n.next=3,e.api.get("/categories/search",{params:r});case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}),n)}))))({query:t});return e.dispatch(i)}})),(0,c.Z)((0,o.Z)(e),"loadCategories",g()(e.internalLoadCategories,100)),e}return n}(f.ZP);(0,c.Z)(y,"loadCategories",b.async("GET"))},39833:function(e,t,n){"use strict";n.r(t);var r=n(67294),a=n(17070),o=n(94370),i=n(92137),u=n(28481),l=n(87757),c=n.n(l),s=n(83495),d=n(64833),f=n(53554),p=n(59023),v=n(89927),m=n(15420),g=n(94184),h=n.n(g),b=n(61540);function y(e){var t=(0,b.L)();return r.createElement("ul",{className:h()(t.formList,e.isBlurred&&"foggy"),"aria-hidden":!!e.isBlurred},e.children)}var C=n(16190),E=n(82999),D=n(8975),I=n(67583),w=n(55897),Z=n(22241);function P(e){var t=e.categoryID,n=e.discussionsCount,a=(0,r.useState)(!0),o=(0,u.Z)(a,2),l=o[0],g=o[1],h=(0,r.useState)(!0),b=(0,u.Z)(h,2),P=b[0],S=b[1],O=(0,r.useState)(),x=(0,u.Z)(O,2),k=x[0],L=x[1],N=(0,r.useState)(),A=(0,u.Z)(N,2),T=A[0],B=A[1],R=(0,r.useReducer)((function(e,t){switch(t.type){case"start":case"retry":return e+1;case"finished":return window.location.reload(),g(!1),0;case"cancel":return 0}return e}),0),U=(0,u.Z)(R,2),j=U[0],F=U[1],G=(0,p.Er)("",!0),z=(0,r.useMemo)((function(){var e;return null===(e=G.data)||void 0===e?void 0:e.filter((function(e){return e.categoryID!==t}))}),[G.data,t]),_=(0,r.useMemo)((function(){return(null==z?void 0:z.map((function(e){return{label:e.name,value:e.categoryID,data:e}})))||[]}),[z]),M=(0,r.useCallback)((0,i.Z)(c().mark((function e(){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.delete("categories/".concat(t),{params:{batch:!0,newCategoryID:"move"===k?T:void 0},timeout:6e4});case 3:n=e.sent,r=n.status,e.t0=r,e.next=204===e.t0?8:202===e.t0?10:12;break;case 8:return F({type:"finished"}),e.abrupt("break",12);case 10:return F({type:"retry"}),e.abrupt("break",12);case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),F({type:"cancel"});case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[k,T,t]);(0,r.useEffect)((function(){j>0&&M()}),[j,M]);var W="move"==k&&void 0!==T||"delete"===k&&(!n||P),H=j>0;return r.createElement(s.Z,{isVisible:l,onCancel:function(){H||g(!1)},size:f.Z.LARGE,title:(0,d.t)("Delete Category"),isConfirmDisabled:!W,isConfirmLoading:j>0,onConfirm:function(){F({type:"start"})},confirmTitle:(0,d.t)("Delete Category")},r.createElement(y,{isBlurred:H},r.createElement(C.r,{label:(0,d.t)("Action")},r.createElement(v.U7,{onChange:function(e){return L(e)},value:k},r.createElement(m.U,{value:"move",label:"Move content from this category to a replacement category."}),r.createElement(m.U,{value:"delete",label:"Permanently delete all content in this category."}))),"move"===k&&r.createElement(C.r,{label:"Replacement Category",description:(0,d.t)("Heads Up! Moving discussions into a replacement category can result in discussions vanishing (or appearing) if the replacement category has different permissions than the category being deleted.")},r.createElement(I.F,{isClearable:!1,options:_,menuPlacement:w.s.TOP,value:_.find((function(e){return e.value===T})),onChange:function(e){B(null==e?void 0:e.value)}})),"delete"===k&&void 0!==n&&r.createElement(C.r,{label:(0,d.t)("Delete All"),description:r.createElement("span",{style:{color:"red"},dangerouslySetInnerHTML:{__html:(0,D.sprintf)((0,d.t)(n>1?"<strong>%s</strong> discussion will be deleted. There is no undo and it will not be logged.":"<strong>%s</strong> discussions will be deleted. There is no undo and they will not be logged."),n)}})},r.createElement(v.U7,null,r.createElement(E.S,{checked:P,onChange:S,label:"Yes, permanently delete it all."})))))}var S=n(98897);function O(){var e=document.getElementById("Form_ImageUpload-dot-Limits-dot-Enabled");if(e){var t="dimensionsDisabled",n=Array.from(document.getElementsByClassName("ImageUploadLimitsDimensions"));e.checked&&n.forEach((function(e){e.classList.remove(t)})),e.addEventListener("click",(function(){e.checked?n.forEach((function(e){e.classList.remove(t)})):n.forEach((function(e){e.classList.add(t)}))}))}}(0,n(64685).f)(".suggestedTextInput-option",(0,S.h)({forDashboard:!0}).option),(0,d.Um)(O),(0,d.$V)(O),(0,o.x$)("click",".dropdown-menu-link-delete-delete",(function(e,t){e.preventDefault();var n=t.getAttribute("data-categoryid"),o=t.getAttribute("data-countDiscussions");null!==n&&(0,a.mountModal)(r.createElement(P,{categoryID:parseInt(n),discussionsCount:null!==o?parseInt(o):void 0}))}))},59023:function(e,t,n){"use strict";n.d(t,{Er:function(){return p}});var r=n(22122),a=n(28481),o=n(64833),i=n(61793),u=n(67294),l=n(14494),c=n(22964),s=n(55897),d=n(40798),f=n(17239);function p(e,t){var n=(0,d.LO)(i.Z),r=(0,l.v9)((function(t){var n;return null!==(n=t.forum.categories.suggestionsByQuery[e])&&void 0!==n?n:{status:c.Px.PENDING}}));return(0,u.useEffect)((function(){(e||t)&&n.loadCategories(e)}),[e,t]),r}t.ZP=function(e){var t,n,i,l=(0,u.useState)(""),d=(0,a.Z)(l,2),v=d[0],m=d[1],g=(0,u.useState)(!1),h=(0,a.Z)(g,2),b=h[0],y=h[1],C=p(v,b),E=function(){y(!0)},D=e.multiple;C.status===c.Px.SUCCESS&&C.data&&(i=C.data.map((function(e){var t,n,r,a,o,i=null!==(t=null===(n=e.breadcrumbs)||void 0===n?void 0:n.length)&&void 0!==t?t:0;i>1&&(r=null===(a=e.breadcrumbs)||void 0===a||null===(o=a[i-2])||void 0===o?void 0:o.name);return{value:e.categoryID,label:e.name,data:{parentLabel:r}}})));var I,w=C.status===c.Px.LOADING;return D?u.createElement(f.N,(0,r.Z)({onFocus:E},e,{placeholder:(0,o.t)("Search..."),isLoading:w,onInputChange:m,label:null!==(I=e.label)&&void 0!==I?I:(0,o.t)("Community Category"),showIndicator:!0,options:i})):u.createElement(s.Z,(0,r.Z)({onFocus:E},e,{placeholder:(0,o.t)("Search..."),onInputChange:m,isLoading:w,onChange:function(t){e.onChange&&e.onChange([t])},options:i,label:null!==(t=e.label)&&void 0!==t?t:(0,o.t)("Community Category"),value:(null!==(n=e.value)&&void 0!==n?n:[])[0]}))}},2853:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!n){var a=e?void 0:"100%",o=e?"100%":void 0,i=t||r?r?"50%":void 0:"0",u=t&&!r?"0":void 0;return{top:a,right:u,bottom:o,left:i}}}n.d(t,{i:function(){return r}})}},function(e){"use strict";var t=function(t){return e(e.s=t)};e.O(0,[8780,5163,9833,5852,6936,9494,7014,3269,8520,9734,336,4556,6708,5096,9283,7052,3854,9841,5677,390,5729,5449,5187,4926,3432,3079,4682,4065,3509,3360,4211,2492,7086,2167,9584,1467,2004],(function(){return t(2702),t(39833)}));var n=e.O();vanillaadmin=n}]);