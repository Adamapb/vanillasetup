(self.webpackChunkvanillaadmin=self.webpackChunkvanillaadmin||[]).push([[3854],{18574:function(e,t,n){"use strict";n.d(t,{N5:function(){return g},ZP:function(){return y},ib:function(){return Z}});var r=n(81253),a=n(92137),s=n(6610),i=n(5991),o=n(63349),u=n(10379),c=n(46070),l=n(77608),f=n(96156),m=n(87757),h=n.n(m),d=n(40798),p=n(99308),v=n(35138),b=n(64833);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var g,w=(0,p.Jy)("@@themes");!function(e){e.PREVIEW="preview",e.APPLY="apply",e.CANCEL="cancel"}(g||(g={}));var y=function(e){(0,u.Z)(n,e);var t=P(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return e=t.call.apply(t,[this].concat(i)),(0,f.Z)((0,o.Z)(e),"getAssets",(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=e.getState(),i=s.theme;if(i.assets.data)return i.assets.data;var o=(0,d.KP)(n.getAssets,(0,a.Z)(h().mark((function n(){var a;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.api.get("/themes/".concat(t),{params:{revisionID:r}});case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}),n)}))))({themeKey:t,revisionID:r});return e.dispatch(o)})),(0,f.Z)((0,o.Z)(e),"forceVariables",(function(t){e.dispatch(n.forceVariablesAC(t)),(0,v.fR)()})),(0,f.Z)((0,o.Z)(e),"getAllThemes",(function(){var t=(0,d.KP)(n.getAllThemes_ACS,(0,a.Z)(h().mark((function t(){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.get("/themes");case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))))();return e.dispatch(t)})),(0,f.Z)((0,o.Z)(e),"putCurrentTheme",(function(t){var r={themeID:t},s=(0,d.KP)(n.putCurrentThemeACs,(0,a.Z)(h().mark((function n(){var a;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.api.put("/themes/current",r);case 2:return a=n.sent,(0,b.US)("ui.themeKey",t),(0,b.US)("ui.mobileThemeKey",t),n.abrupt("return",a.data);case 6:case"end":return n.stop()}}),n)}))))(r);return e.dispatch(s)})),(0,f.Z)((0,o.Z)(e),"putPreviewTheme",(function(t){var r=t.themeID,s=t.revisionID,i=(t.type,(0,d.KP)(n.putPreviewThemeACs,(0,a.Z)(h().mark((function t(){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.put("/themes/preview",{themeID:r,revisionID:s});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))))(t));return e.dispatch(i)})),(0,f.Z)((0,o.Z)(e),"deleteTheme",(function(t){var r=(0,d.KP)(n.deleteThemeACs,(0,a.Z)(h().mark((function n(){var r;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.api.delete("/themes/".concat(t));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)}))))({themeID:t});return e.dispatch(r)})),(0,f.Z)((0,o.Z)(e),"patchThemeWithRevisionID",function(){var t=(0,a.Z)(h().mark((function t(n){var r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.patchTheme({themeID:n.themeID,revisionID:n.revisionID});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return(0,i.Z)(n,[{key:"getThemeRevisions",value:function(e){var t=this,r=(0,d.KP)(n.getThemeRevisions_ACs,(0,a.Z)(h().mark((function n(){var r;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.api.get("/themes/".concat(e,"/revisions"));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)}))))({themeID:e});return this.dispatch(r)}},{key:"patchTheme",value:function(e){var t=this,s=(e.themeID,(0,r.Z)(e,["themeID"])),i=(0,d.KP)(n.patchTheme_ACs,(0,a.Z)(h().mark((function n(){var r;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.api.patch("/themes/".concat(e.themeID),s);case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)}))))(e);return this.dispatch(i)}}]),n}(d.ZP);function Z(){return(0,d.LO)(y)}(0,f.Z)(y,"getAssets",w.async("GET")),(0,f.Z)(y,"forceVariablesAC",w("FORCE_VARIABLES")),(0,f.Z)(y,"getAllThemes_ACS",w.async("GET_ALL_THEMES")),(0,f.Z)(y,"putCurrentThemeACs",w.async("PUT_CURRENT")),(0,f.Z)(y,"putPreviewThemeACs",w.async("PUT_PREVIEW")),(0,f.Z)(y,"deleteThemeACs",w.async("DELETE")),(0,f.Z)(y,"getThemeRevisions_ACs",w.async("GET_THEME")),(0,f.Z)(y,"patchTheme_ACs",w.async("PATCH_THEME"))},34056:function(e,t,n){"use strict";n.d(t,{f:function(){return O}});var r=n(28481),a=n(22964),s=n(17617),i=n(77798),o=n(10366),u=n(40798),c=n(18574),l=n(67294),f=n(14494),m=n(85061),h=n(99809),d=n(9803),p=n(75933),v=n.n(p),b=n(64833),P=n(41033),g=n(35138),w={google:{families:["Open Sans:400,400italic,600,700"]}},y=!1;document.addEventListener(g.ov,(function(){y=!1}));var Z=function(e,t){var n=(0,P.OF)(),r=e.name,a=void 0===r?P.em:r,s=e.weightNormal,i=void 0===s?n.fonts.weights.normal:s,o=e.weightSemiBold,u=void 0===o?n.fonts.weights.semiBold:o,c=e.weightBold,l=void 0===c?n.fonts.weights.bold:c;return"".concat(t?"https://fonts.googleapis.com/css?family=":"").concat(encodeURI(a),":").concat(i,",").concat(i,"italic,").concat(u,",").concat(l)},E=function(e){return e&&e.url&&""!==e.url&&e.name&&""!==e.name},I=function(e,t){var n=e.filter((function(e){return E(e)}));return{custom:{families:n.map((function(e){return e.name})),urls:n.map((function(e){return(0,b.pZ)("".concat(e.url,"?v=").concat((0,b.xZ)("context.cacheBuster")))}))}}};var D=n(45046),S=n(73727),x=n(76399),C=!1,O=function(e){var t=e.themeKey,n=e.disabled,p=e.variablesOnly,O=e.revisionID,R=(0,u.LO)(c.ZP).getAssets,A=(0,f.v9)((function(e){return e.theme})).assets,T=(0,i.bO)().setTopOffset,N=(0,g.lQ)().cacheID,j=(0,l.useState)({}),L=(0,r.Z)(j,2),F=(L[0],L[1]);return(0,l.useEffect)((function(){F(t)}),[t,F]),(0,l.useEffect)((function(){if(!n)if(A.status!==a.Px.PENDING){if(A.data&&!C){C=!0,(0,x.X)();var e=document.getElementById("themeHeader");if(e&&T(e.getBoundingClientRect().height),function(){if(!y){y=!0;var e=((0,d.ZP)().getState().theme.assets.data||{}).fonts,t=void 0===e?{data:[]}:e,n=(0,P.OF)(),r=n.fonts,a=r.forceGoogleFont,s=r.customFont,i=n.fonts.families[0],o=r.googleFontFamily||i;if(n.fonts.customFontUrl){var u=(0,h.Z)(n.fonts.families.body),c=u[0],l=u.slice(1);v().load(I([{name:c,url:n.fonts.customFontUrl,fallbacks:l}]))}else if(!a&&E(s)){var f=[s].concat((0,m.Z)([].concat((0,m.Z)(s.fallbacks),[P.em]).map((function(e){return{name:e,url:e===P.em?Z({name:i},!0):""}})))).filter((function(e){return e&&s.name&&""!==s.name})),p={families:f.map((function(e){return e.name})),urls:f.map((function(e){return(0,b.pZ)("".concat(e.url,"?v=").concat((0,b.xZ)("context.cacheBuster")))}))};v().load({custom:p})}else if(a){var g={google:{families:["".concat(Z({name:o}),"&display=swap")]}};v().load(g)}else if(t&&t.data&&t.data.length>0){var D=I(t.data);D.custom&&D.custom.urls&&D.custom.urls.length>0&&v().load(D)}else v().load(w)}}(),p)return}}else R(t,O)}),[A,n,T,p,R,t,N]),e.disabled||e.variablesOnly?l.createElement(l.Fragment,null,e.children):[a.Px.PENDING,a.Px.LOADING].includes(A.status)?l.createElement(l.Fragment,null,l.createElement(D.Sj,null),!p&&l.createElement(o.Z,null)):A.status===a.Px.ERROR?l.createElement(l.Fragment,null,l.createElement(D.Sj,null),e.errorComponent):A.data?((0,s.N6)().applyInputCSSRules(),l.createElement(l.Fragment,null,l.createElement(S.VK,null,l.createElement(D.dv,null,l.createElement(D.Sj,null),e.children)))):null}},3773:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var r=n(9803),a=n(18452);function s(){var e=(0,r.ZP)().getState();if(null!==e){if(e.theme.forcedVariables)return e.theme.forcedVariables;if(!(0,a.ir)())return{};var t=e.theme.assets.data||{};return t.variables?t.variables.data:{}}return{}}},76399:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var r=n(94370);function a(){var e=document.getElementById("themeHeader"),t=document.getElementById("themeFooter");e&&!e.shadowRoot&&(0,r.UD)(e,!0),t&&!t.shadowRoot&&(0,r.UD)(t,!0)}},74534:function(e,t,n){"use strict";n.d(t,{f8:function(){return r},xK:function(){return c}});var r,a=n(76983),s=n(18574),i=n(22964),o=n(87219);n(14494);!function(e){e.DB="themeDB",e.FS="themeFile"}(r||(r={}));var u={assets:{status:i.Px.PENDING},forcedVariables:null,themeRevisions:{status:i.Px.PENDING},upDateRevision:{status:i.Px.PENDING}},c=(0,o.ZP)((0,a.reducerWithInitialState)(u).case(s.ZP.getAssets.started,(function(e){return e.assets.status=i.Px.LOADING,e})).case(s.ZP.getAssets.done,(function(e,t){return e.assets.status=i.Px.SUCCESS,e.assets.data=t.result.assets,e})).case(s.ZP.getAssets.failed,(function(e,t){return t.error.response&&404===t.error.response.status?(e.assets.data={},e.assets.status=i.Px.SUCCESS,e):(e.assets.status=i.Px.ERROR,e.assets.error=t.error,e)})).case(s.ZP.forceVariablesAC,(function(e,t){return e.forcedVariables=t,e})).case(s.ZP.getThemeRevisions_ACs.started,(function(e,t){return e.themeRevisions.status=i.Px.LOADING,e})).case(s.ZP.getThemeRevisions_ACs.failed,(function(e,t){return e.themeRevisions&&(e.themeRevisions.status=i.Px.ERROR,e.themeRevisions.error=t.error),e})).case(s.ZP.getThemeRevisions_ACs.done,(function(e,t){return e.themeRevisions&&(e.themeRevisions.status=i.Px.SUCCESS,e.themeRevisions.data=t.result),e})).case(s.ZP.patchTheme_ACs.started,(function(e,t){return e.upDateRevision.status=i.Px.LOADING,e})).case(s.ZP.patchTheme_ACs.failed,(function(e,t){return e.upDateRevision.status=i.Px.ERROR,e.upDateRevision.error=t.error,e})).case(s.ZP.patchTheme_ACs.done,(function(e,t){e.upDateRevision.status=i.Px.SUCCESS,e.upDateRevision.data=t.result;var n=t.result,r=n.revisionID,a=n.themeID;return e.themeRevisions.data&&(e.themeRevisions.data=e.themeRevisions.data.map((function(e){return e.themeID!==a||(e.active=e.revisionID===r),e}))),e})))},72949:function(e,t,n){"use strict";n.d(t,{x:function(){return d}});var r=n(96156),a=n(22964),s=n(87219),i=n(76983),o=n(18574),u=(n(14494),n(74534));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw s}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h={themes:{status:a.Px.PENDING},applyStatus:{status:a.Px.PENDING},previewStatus:{status:a.Px.PENDING},deleteThemeByID:{}},d=(0,s.Uy)((0,i.reducerWithInitialState)(h).case(o.ZP.getAllThemes_ACS.started,(function(e,t){return e.themes.status=a.Px.LOADING,e})).case(o.ZP.getAllThemes_ACS.done,(function(e,t){var n,r,s=[],i=[],o=f(t.result);try{for(o.s();!(r=o.n()).done;){var c=r.value;c.current&&(n=c),c.type===u.f8.FS?s.push(c):i.push(c)}}catch(e){o.e(e)}finally{o.f()}return e.themes.status=a.Px.SUCCESS,e.themes.data={currentTheme:n,templates:s,themes:i},e})).case(o.ZP.getAllThemes_ACS.failed,(function(e,t){return e.themes.status=a.Px.ERROR,e.themes.error=t.error,e})).case(o.ZP.putCurrentThemeACs.started,(function(e,t){return e.applyStatus.status=a.Px.LOADING,e.applyStatus.data={themeID:t.themeID},e})).case(o.ZP.putCurrentThemeACs.done,(function(e,t){return e.applyStatus.status=a.Px.SUCCESS,e.applyStatus.error=void 0,e.themes.data&&(e.themes.data.currentTheme=t.result,e.themes.data.themes=e.themes.data.themes.map((function(e){return l(l({},e),{},{current:e.themeID===t.result.themeID})})),e.themes.data.templates=e.themes.data.templates.map((function(e){return l(l({},e),{},{current:e.themeID===t.result.themeID})}))),e})).case(o.ZP.putCurrentThemeACs.failed,(function(e,t){return e.applyStatus.status=a.Px.ERROR,e.applyStatus.error=t.error,e})).case(o.ZP.putPreviewThemeACs.started,(function(e,t){return e.previewStatus.status=a.Px.LOADING,e.previewStatus.data={themeID:t.themeID},e})).case(o.ZP.putPreviewThemeACs.done,(function(e,t){return e.previewStatus.status=a.Px.SUCCESS,e.previewStatus.error=void 0,e})).case(o.ZP.putPreviewThemeACs.failed,(function(e,t){return e.applyStatus.status=a.Px.ERROR,e.applyStatus.error=t.error,e})).case(o.ZP.deleteThemeACs.started,(function(e,t){return e.deleteThemeByID[t.themeID]={status:a.Px.LOADING},e})).case(o.ZP.deleteThemeACs.done,(function(e,t){var n;(e.deleteThemeByID[t.params.themeID]={status:a.Px.SUCCESS},e.themes.data)&&(e.themes.data.themes=null===(n=e.themes.data)||void 0===n?void 0:n.themes.filter((function(e){return e.themeID!==t.params.themeID})));return e})).case(o.ZP.deleteThemeACs.failed,(function(e,t){return e.deleteThemeByID[t.params.themeID]={status:a.Px.ERROR,error:t.error},e})))},40641:function(e,t,n){"use strict";n.d(t,{e:function(){return O},l:function(){return R}});var r=n(22122),a=n(28481),s=n(94184),i=n.n(s),o=n(67294),u=n(84690),c=n(78227),l=n(96156),f=n(41033),m=n(87776),h=n(35138),d=n(71055),p=n(51305),v=n(10389),b=n(67920),P=n(52571),g=n(85819),w=n(40792);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=(0,h.yI)((function(){var e=(0,m.Cg)("toolTips");(0,f.OF)();return{sizes:e("sizes",{min:150,max:250}),nub:e("nub",{width:12})}})),I=(0,h.yI)((function(){var e,t=(0,m.Y7)("toolTip"),n=(0,f.OF)(),r=E(),a=(0,P.kL)(),s=t("content",Z({position:"relative",display:"inline-flex"},{"& *":{pointerEvents:"none"}})),i=t("noPointerTrigger",{pointerEvents:(0,g.ef)("initial"),position:"absolute",top:(0,g.aQ)(50),left:(0,g.aQ)(50),minWidth:(0,g.px)(45),minHeight:(0,g.px)(45),transform:"translate(-50%, -50%)",zIndex:1}),o=t("box",Z(Z(Z(Z(Z({position:"absolute"},b.W.font(Z(Z({},n.fontSizeAndWeightVars("medium")),{},{lineHeight:n.lineHeights.base}))),{},{minWidth:(0,v.dd)(r.sizes.min),maxWidth:(0,v.dd)(r.sizes.max),backgroundColor:d.w.colorOut(n.mainColors.bg)},b.W.border()),b.W.padding({all:n.fonts.size.medium})),a.dropDown()),{},{zIndex:(0,w.e)().sizing.zIndex+1})),u=t("nubPosition",Z({position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",width:(0,v.dd)(2*r.nub.width),height:(0,v.dd)(2*r.nub.width),transform:(0,g.YP)("-50%"),marginLeft:(0,v.dd)(r.nub.width),pointerEvents:"none",zIndex:(0,w.e)().sizing.zIndex+2},(0,p.userSelect)()));return{box:o,nub:t("nub",Z({position:"relative",display:"block",width:(0,v.dd)(r.nub.width),height:(0,v.dd)(r.nub.width),borderTop:(0,p.singleBorder)({width:n.border.width}),borderRight:(0,p.singleBorder)({width:n.border.width}),boxShadow:n.overlay.dropShadow,background:d.w.colorOut(n.mainColors.bg),zIndex:1},(e={},(0,l.Z)(e,"&.isUp",{transform:"rotate(-45deg)"}),(0,l.Z)(e,"&.isDown",{transform:"rotate(135deg)"}),e))),nubPosition:u,noPointerContent:s,noPointerTrigger:i}})),D=n(23493),S=n.n(D),x=function(e,t){var n=E(),r=(0,f.OF)(),a=e.top-2*n.nub.width+2*r.border.width+window.scrollY,s=e.bottom-2*r.border.width+window.scrollY;return{left:e.left+e.width/2-n.nub.width,top:t?a:s}};function C(e){var t=(0,f.OF)(),n=e.children,s=e.label,l=e.ariaLabel,m=(0,u.lL)(),h=(0,a.Z)(m,2),d=h[0],p=h[1],v=p.isVisible,b=p.triggerRect,P=(0,o.useState)(!1),g=(0,a.Z)(P,2),w=g[0],y=g[1],Z=I(),D=E(),C=2*t.border.width,O=function(){var e=(0,o.useRef)(null),t=(0,o.useState)(!1),n=(0,a.Z)(t,2),r=n[0],s=n[1];return(0,o.useEffect)((function(){var t=S()((function(){e.current&&clearTimeout(e.current),s(!0),e.current=setTimeout((function(){s(!1)}),200)}),100);return window.addEventListener("scroll",t),function(){window.removeEventListener("scroll",t)}}),[]),r}();return o.createElement(o.Fragment,null,(0,o.cloneElement)(n,d),v&&!O&&b&&o.createElement(o.Fragment,null,o.createElement(c.Z,null,o.createElement("div",{className:Z.nubPosition,style:x(b,w)},o.createElement("div",{className:i()(Z.nub,w?"isDown":"isUp")}))),o.createElement(u.zG,(0,r.Z)({},p,{label:s,"aria-label":l||s,position:function(e,t){var n=D.nub.width/2,r=e.left+e.width/2-t.width/2,a=window.innerWidth-t.width-2,s=e.bottom+t.height+n>window.innerHeight;y(s);var i=e.top-t.height+C-D.nub.width+window.scrollY,o=e.bottom-C+D.nub.width+window.scrollY;return{left:Math.min(Math.max(2,r),a)+window.scrollX,top:s?i:o}},className:Z.box}))))}function O(e){var t=e.children,n=e.label,r=e.ariaLabel;return o.createElement(C,{label:n,ariaLabel:r},t)}var R=o.forwardRef((function(e,t){var n=I();return o.createElement("span",(0,r.Z)({},e,{ref:t,tabIndex:0,className:n.noPointerContent}),o.createElement("span",{className:n.noPointerTrigger}),e.children)}))}}]);