(self.webpackChunkvanillaforum=self.webpackChunkvanillaforum||[]).push([[627],{21203:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(22241),o=n(53191),a=n(91353),s=n(68102),c=n(15255),u=n(1643),i=n(6610),l=n(5991),m=n(10379),f=n(46070),p=n(77608),d=n(96156),h=n(67294),Z=n(6292),E=n(94184),v=n.n(E);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var C=function(e){(0,m.Z)(n,e);var t=y(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.children,r=e.count,o=n||t,a=!(!r||this.props.hideCountWhenZero&&0===this.props.count),s=(0,c.IJ)();return h.createElement(u.Z,this.props,h.createElement("span",{className:v()("dropDownItem-text",s.text)},o),a&&h.createElement(Z.ZP,{className:v()("dropDownItem-count",s.count,this.props.countsClass),value:r}))}}]),n}(h.Component);(0,d.Z)(C,"defaultProps",{hideCountWhenZero:!0});var D=n(53341),k=n(35037),N=n(98674);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var P=function(e){(0,m.Z)(n,e);var t=w(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"render",value:function(){var e=(0,c.IJ)(),t=(0,N.qC)("sectionNavTitle");return h.createElement(h.Fragment,null,!this.props.noSeparator&&h.createElement(D.Z,null),h.createElement("li",{className:v()("dropDown-section",e.section,this.props.className)},h.createElement("nav",{"aria-describedby":t},h.createElement(k.Z,{id:t,title:this.props.title,className:v()("dropDown-sectionHeading",e.sectionHeading)}),h.createElement("ul",{className:v()("dropDown-sectionContents",e.sectionContents)},this.props.children))))}}]),n}(h.Component),R=n(48670),g=n(93266),b=n(50674),I=n(96278),B=n(14494),x=n(64833);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var Q=function(e){(0,m.Z)(n,e);var t=O(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"render",value:function(){var e=this.props.currentUser.data,t=(0,x.tI)(e.name),n=(0,I.G)();return h.createElement("li",{className:v()(n.userCard,"dropDown-userCard",this.props.className)},h.createElement(g.Z,{to:t,className:v()("userDropDown-userCardPhotoLink",n.userCardPhotoLink)},h.createElement(R.cy,{className:v()("userDropDown-userCardPhoto",n.userCardPhoto),userInfo:e,size:this.props.photoSize||R.pz.LARGE})),h.createElement(g.Z,{to:t,className:v()("userDropDown-userCardName",n.userCardName)},e.name))}}]),n}(h.Component),S=(0,B.$j)(b.KQ)(Q);function M(){return h.createElement(a.ZP,{permission:"profiles.edit",fallback:h.createElement(h.Fragment,null,h.createElement(D.Z,null),h.createElement(u.Z,{to:"/profile/preferences",name:(0,x.t)("Edit Preferences")}))},h.createElement(D.Z,null),h.createElement(u.Z,{to:"/profile/edit",name:(0,x.t)("Edit Profile")}))}var z=n(7937);var A=(0,B.$j)((function(e,t){return{userInfo:e.users.current.data?e.users.current.data:null,counts:e.users.countInformation.counts}}),(function(e){return{checkCountData:new s.Z(e,r.ZP).checkCountData}}))((function(e){var t,n=e.userInfo,r=null!==(t=o.Z.meta.signOutUrl)&&void 0!==t?t:"/entry/signout?target=".concat(window.location.href),s=(0,x.yq)();if(!n)return null;var i=function(t){var n=e.counts.find((function(e){return e.name===t}));return n?n.count:0},l=(0,c.IJ)();return h.createElement("ul",{className:v()(l.verticalPadding,e.className)},h.createElement(S,{className:"userDropDown-userCard"}),h.createElement(M,null),z.w.map((function(e,t){return h.createElement(e,{key:t,getCountByName:i})})),s.apps.forum?h.createElement(P,{title:(0,x.t)("Discussions")},h.createElement(C,{to:"/discussions/bookmarked",name:(0,x.t)("Bookmarks"),count:i("Bookmarks")}),h.createElement(a.ZP,{permission:"discussions.add"},h.createElement(C,{to:"/drafts",name:(0,x.t)("Drafts"),count:i("Drafts")})),h.createElement(C,{to:"/discussions/mine",name:(0,x.t)("My Discussions"),count:i("Discussions")})):null,h.createElement(a.ZP,{permission:["community.moderate"]},h.createElement(P,{title:(0,x.t)("Moderation")},h.createElement(C,{to:"/dashboard/user/applicants",name:(0,x.t)("Applicants"),count:i("Applicants")}),h.createElement(C,{to:"/dashboard/log/spam",name:(0,x.t)("Spam Queue"),count:i("SpamQueue")}),h.createElement(C,{to:"/dashboard/log/moderation",name:(0,x.t)("Moderation Queue"),count:i("ModerationQueue")}))),h.createElement(D.Z,null),h.createElement(a.ZP,{permission:["site.manage","settings.view"]},h.createElement(u.Z,{to:"/dashboard/settings",name:(0,x.t)("Dashboard")})),h.createElement(u.Z,{to:r,name:(0,x.t)("Sign Out")}))}))}}]);