(self.webpackChunkvanillaforum=self.webpackChunkvanillaforum||[]).push([[5852],{72688:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var s=n(6610),r=n(63349),i=n(10379),o=n(46070),c=n(77608),a=n(96156),u=n(40798);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,o.Z)(this,n)}}var d=function(e){(0,i.Z)(n,e);var t=l(n);function n(){var e;(0,s.Z)(this,n);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),(0,a.Z)((0,r.Z)(e),"getConversations",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.dispatchApi("get","/conversations",n.getConversationsACs,t)})),e}return n}(u.ZP);(0,a.Z)(d,"GET_CONVERSATIONS_REQUEST","@@conversations/GET_CONVERSATIONS_REQUEST"),(0,a.Z)(d,"GET_CONVERSATIONS_RESPONSE","@@conversations/GET_CONVERSATIONS_RESPONSE"),(0,a.Z)(d,"GET_CONVERSATIONS_ERROR","@@conversations/GET_CONVERSATIONS_ERROR"),(0,a.Z)(d,"getConversationsACs",u.ZP.generateApiActionCreators(d.GET_CONVERSATIONS_REQUEST,d.GET_CONVERSATIONS_RESPONSE,d.GET_CONVERSATIONS_ERROR,{},{})),(0,a.Z)(d,"ACTION_TYPES",void 0)},67587:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(6610),r=n(96156),i=n(72688),o=n(87219),c=n(22964),a=function e(){var t=this;(0,s.Z)(this,e),(0,r.Z)(this,"initialState",{conversationsByID:{data:{},status:c.Px.PENDING}}),(0,r.Z)(this,"reducer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.initialState,n=arguments.length>1?arguments[1]:void 0;return(0,o.ZP)(e,(function(e){switch(n.type){case i.Z.GET_CONVERSATIONS_REQUEST:e.conversationsByID.status=c.Px.LOADING;break;case i.Z.GET_CONVERSATIONS_RESPONSE:e.conversationsByID.status=c.Px.SUCCESS,e.conversationsByID.data={},n.payload.data.forEach((function(t){e.conversationsByID.data[t.conversationID]=t}));break;case i.Z.GET_CONVERSATIONS_ERROR:e.conversationsByID.status=c.Px.ERROR,e.conversationsByID.error=n.payload}}))}))}},34212:function(e,t,n){"use strict";n.d(t,{Z:function(){return E},G:function(){return I}});var s=n(81253),r=n(92137),i=n(6610),o=n(63349),c=n(10379),a=n(46070),u=n(77608),l=n(96156),d=n(87757),f=n.n(d),p=n(40798);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,a.Z)(this,n)}}var y=(0,n(99308).Jy)("@@discussions"),E=function(e){(0,c.Z)(n,e);var t=v(n);function n(){var e;(0,i.Z)(this,n);for(var c=arguments.length,a=new Array(c),u=0;u<c;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a)),(0,l.Z)((0,o.Z)(e),"getDiscussionList",(function(t){var s=(0,p.KP)(n.getDiscussionListACs,(0,r.Z)(f().mark((function n(){var s;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.api.get("/discussions",{params:D(D({},t),{},{expand:["insertUser","breadcrumbs"]})});case 2:return s=n.sent,n.abrupt("return",s.data);case 4:case"end":return n.stop()}}),n)}))))(t);return e.dispatch(s)})),(0,l.Z)((0,o.Z)(e),"getDiscussionByID",(function(t){var s=t.discussionID,i=(0,p.KP)(n.getDiscussionByIDACs,(0,r.Z)(f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.get("/discussions/".concat(s),{params:{expand:["insertUser","breadcrumbs"]}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))))({discussionID:s});return e.dispatch(i)})),(0,l.Z)((0,o.Z)(e),"patchDiscussion",(function(t){var i=t.discussionID,o=(t.patchStatusID,(0,s.Z)(t,["discussionID","patchStatusID"])),c={params:{expand:["category"]}},a=(0,p.KP)(n.patchDiscussionACs,(0,r.Z)(f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.patch("/discussions/".concat(i),o,c);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))))(t);return e.dispatch(a)})),(0,l.Z)((0,o.Z)(e),"putDiscussionType",(function(t){var s=t.discussionID,i=t.type,o=(0,p.KP)(n.putDiscussionTypeACs,(0,r.Z)(f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.put("/discussions/".concat(s,"/type"),{type:i});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))))({discussionID:s,type:i});return e.dispatch(o)})),(0,l.Z)((0,o.Z)(e),"putDiscussionBookmarked",(function(t){var s=t.discussionID,i=t.bookmarked,o=(0,p.KP)(n.putDiscussionBookmarkedACs,(0,r.Z)(f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.put("/discussions/".concat(s,"/bookmark"),{bookmarked:i});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))))({discussionID:s,bookmarked:i});return e.dispatch(o)})),(0,l.Z)((0,o.Z)(e),"postDiscussionReaction",(function(t){var s=t.discussionID,i=t.reaction,o=(0,p.KP)(n.postDiscussionReactionACs,(0,r.Z)(f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.post("/discussions/".concat(s,"/reactions"),{reactionType:i.urlcode});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))))(t);return e.dispatch(o)})),(0,l.Z)((0,o.Z)(e),"deleteDiscussionReaction",(function(t){var s=t.discussionID,i=(0,p.KP)(n.deleteDiscussionReactionACs,(0,r.Z)(f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.delete("/discussions/".concat(s,"/reactions"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))))(t);return e.dispatch(i)})),(0,l.Z)((0,o.Z)(e),"deleteDiscussion",(function(t){var s=t.discussionID,i=function(){var t=(0,r.Z)(f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.delete("/discussions/".concat(s));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=(0,p.KP)(n.deleteDiscussionACs,i)({discussionID:s});return e.dispatch(o)})),e}return n}(p.ZP);function I(){return(0,p.LO)(E)}(0,l.Z)(E,"getDiscussionListACs",y.async("GET_DISCUSSION_LIST")),(0,l.Z)(E,"getDiscussionByIDACs",y.async("GET_DISCUSSION")),(0,l.Z)(E,"patchDiscussionACs",y.async("PATCH_DISCUSSION")),(0,l.Z)(E,"putDiscussionTypeACs",y.async("PUT_DISCUSSION_TYPE")),(0,l.Z)(E,"putDiscussionBookmarkedACs",y.async("PUT_DISCUSSION_BOOKMARKED")),(0,l.Z)(E,"postDiscussionReactionACs",y.async("POST_DISCUSSION_REACTION")),(0,l.Z)(E,"deleteDiscussionReactionACs",y.async("DELETE_DISCUSSION_REACTION")),(0,l.Z)(E,"deleteDiscussionACs",y.async("DELETE_DISCUSSION"))},48011:function(e,t,n){"use strict";n.d(t,{E:function(){return m}});var s=n(96156),r=n(97133),i=n(273),o=n(78608),c=n(41033),a=n(67920),u=n(35138),l=n(10389),d=n(302);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=(0,u.yI)((function(){var e=(0,i.f)(),t=(0,c.OF)(),n=(0,o.bL)(),s=(0,r.iv)(p(p({},a.W.font(e.item.title.font)),{},{fontWeight:t.fonts.weights.semiBold,"&.isRead":p({},a.W.font(e.item.title.fontRead)),"&:hover, &:focus, &:active":p({},a.W.font(e.item.title.fontState))}),";label:DiscussionList-classes-title;"),f=n.options.iconPosition===o.p$.META?{top:"20%",left:"75%"}:{top:"72.5%",left:"35%"},m=(0,r.iv)(p({position:"absolute"},f),";label:DiscussionList-classes-voteCounterContainer;"),D={move:(0,r.iv)({minHeight:(0,l.dd)(200)},";label:DiscussionList-classes-move;")},v=(0,d.Z)();return{title:s,iconAndVoteCounterWrapper:(0,u.yI)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(0,r.iv)(p({position:"relative"},n.options.iconPosition===o.p$.META?a.W.margin({right:v.sizing.width,bottom:e>1?v.sizing.magicOffset:0}):{}),";label:DiscussionList-classes-iconAndVoteCounterWrapper;")})),voteCounterContainer:m,options:D,userTag:(0,r.iv)({"&:hover, &:focus, &:active":{"& span":p({},a.W.font({color:t.mainColors.primary}))}},";label:DiscussionList-classes-userTag;"),resolved:(0,r.iv)({name:"1a9u6pu-DiscussionList-classes-resolved",styles:"margin:0;label:DiscussionList-classes-resolved;"})}}))},18181:function(e,t,n){"use strict";n.d(t,{k:function(){return d}});var s=n(96156),r=n(41033),i=n(45320),o=n(54494),c=n(67920),a=n(273);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){(0,r.OF)();var e=(0,a.f)();i.d.contentBoxes(e.contentBoxes,"DiscussionList"),i.d.contentBoxes(e.panelBoxes,"DiscussionList",".Panel"),(0,o.fc)("li.ItemDiscussion.ItemDiscussion",{display:"flex",flexWrap:"wrap","& .ItemContent":{flex:1},"& .Title":{marginTop:-4,display:"inline-block"},"& .Excerpt":{marginTop:0}}),(0,o.fc)(".ItemDiscussion.ItemDiscussion",{"& > .PhotoWrap, & > .userCardWrapper-photo, & > .idea-counter-module":{marginRight:16},"& .idea-counter-box":{marginRight:0},"& .AdminCheck":{height:"100%",marginTop:6,marginRight:6},"& .Title a":l({},c.W.font(e.item.title.font)),"&.Read .Title a":l({},c.W.font(e.item.title.fontRead)),"& .Title a:hover, & .Title a:active, & .Title a:focus":l({},c.W.font(e.item.title.fontState))})}},273:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var s=n(13901),r=n(41033),i=n(48670),o=n(46457),c=n(78608),a=(0,s.yI)((function(){var e=(0,s.Cg)("discussionList"),t=(0,c.bL)(),n=e("profilePhoto",{size:i.pz.MEDIUM}),a=e("contentBoxes",o.L.contentBoxes((0,r.OF)().contentBoxes)),u=e("panelBoxes",o.L.contentBoxes((0,r.OF)().panelBoxes)),l=e("userTags",{maxNumber:3});return{profilePhoto:n,panelBoxes:u,contentBoxes:a,item:e("item",{title:{font:o.L.font(t.title.font),fontRead:o.L.font({weight:(0,r.OF)().fonts.weights.normal}),fontState:o.L.font(t.title.fontState)},metas:{asIcons:!1,display:{category:!0,startedByUser:!0,lastUser:!0,unreadCount:!0,qnaStatus:!0,viewCount:!0,commentCount:!0,lastCommentDate:!0,score:!0,userTags:!0,resolved:!0}}}),userTags:l}}))},98567:function(e,t,n){"use strict";n.d(t,{b:function(){return Ie}});var s=n(81253),r=n(22964),i=n(78064),o=n(9359),c=n(22122),a=n(273),u=n(97133),l=n(63754),d=n(92137),f=n(87757),p=n.n(f),m=n(67294),D=n(98074),v=function(e){var t,n=e.discussion,s=null!==(t=n.bookmarked)&&void 0!==t&&t,r=(0,o.yj)(n.discussionID);function i(){return(i=(0,d.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(!s);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return m.createElement(D.Z,{bookmarked:s,onToggleBookmarked:function(){return i.apply(this,arguments)}})},y=n(48011),E=n(30758),I=n(48670),h=n(95439),O=n(89933),S=n(47733),g=n(70031),C=n(86539),Z=n(93266),P=n(25807),b=n(83494),R=n(64833),B=n(1643),T=n(91353),x=n(28481),w=n(17070),A=n(53554),N=n(53117),k=n(68356),U=n.n(k),j=n(81044),L=n(10366),_=U()({loader:function(){return n.e(7631).then(n.bind(n,15286))},loading:function(){return m.createElement(L.Z,{size:100,loaderStyleClass:(0,j.D)().mediumLoader})}}),G=function(e){var t=e.discussion,n=(0,m.useState)(!1),s=(0,x.Z)(n,2),r=s[0],i=s[1],o=function(){return i(!1)};return m.createElement(m.Fragment,null,m.createElement(N.Z,{onClick:function(){return i(!0)}},(0,R.t)("Announce")),m.createElement(w.default,{isVisible:r,size:A.Z.MEDIUM,exitHandler:o},m.createElement(_,{discussion:t,onSuccess:o,onCancel:o})))},F=U()({loader:function(){return n.e(5122).then(n.bind(n,37242))},loading:function(){return m.createElement(L.Z,{size:100,loaderStyleClass:(0,j.D)().mediumLoader})}}),V=function(e){var t=e.discussion,n=(0,m.useState)(!1),s=(0,x.Z)(n,2),r=s[0],i=s[1],o=function(){return i(!1)};return m.createElement(m.Fragment,null,m.createElement(N.Z,{onClick:function(){return i(!0)}},(0,R.t)("Move")),m.createElement(w.default,{isVisible:r,size:A.Z.MEDIUM,exitHandler:o},m.createElement(F,{discussion:t,onSuccess:o,onCancel:o})))},W=n(83495),H=n(14494),M=n(34212),z=function(e){var t=e.discussion,n=(0,m.useState)(!1),s=(0,x.Z)(n,2),i=s[0],o=s[1],c=function(){return o(!1)},a=(0,M.G)(),u=(0,H.v9)((function(e){var n;return null!==(n=e.discussions.deleteStatusesByID[t.discussionID])&&void 0!==n?n:{status:r.Px.PENDING}})).status;return m.createElement(m.Fragment,null,m.createElement(N.Z,{name:(0,R.t)("Delete"),onClick:function(){return o(!0)}},(0,R.t)("Delete")),m.createElement(W.Z,{isVisible:i,size:A.Z.MEDIUM,title:(0,R.t)("Delete Discussion"),onCancel:c,onConfirm:function(){a.deleteDiscussion({discussionID:t.discussionID}),c()},isConfirmLoading:u===r.Px.LOADING,elementToFocusOnExit:document.activeElement},(0,R.t)("Are you sure you want to delete this discussion?")))},q=n(50674),K=n(99552);function Q(e){var t=e.discussion,n=t.discussionID,s=t.closed,r=(0,o.yZ)(n,"close"),i=r.patchDiscussion,c=r.isLoading;return m.createElement(K.Z,{label:s?(0,P.t)("Closed"):(0,P.t)("Close"),isLoading:c,onClick:function(){i({closed:!s})},status:s})}function Y(e){var t=e.discussion,n=t.discussionID,s=t.sink,r=void 0!==s&&s,i=(0,o.yZ)(n,"sink"),c=i.patchDiscussion,a=i.isLoading;return m.createElement(K.Z,{label:r?(0,P.t)("Sunk"):(0,P.t)("Sink"),isLoading:a,onClick:function(){c({sink:!r})},status:r})}var X=n(53341);function J(e){var t=e.discussion.discussionID;return m.createElement(m.Fragment,null,m.createElement(B.Z,{to:"/log/filter?recordType=discussion&recordID=".concat(t)},(0,P.t)("Revision History")),m.createElement(B.Z,{to:"/log/filter?parentRecordID=".concat(t,"&recordType=comment&operation=delete")},(0,P.t)("Deleted Comments")))}var $=U()({loader:function(){return Promise.resolve().then(n.bind(n,9022))},loading:function(){return m.createElement(L.Z,{size:100,loaderStyleClass:(0,j.D)().mediumLoader})}}),ee=function(e){var t=e.discussion,n=(0,m.useState)(!1),s=(0,x.Z)(n,2),r=s[0],i=s[1],o=function(){return i(!1)};return m.createElement(m.Fragment,null,m.createElement(N.Z,{onClick:function(){return i(!0)}},(0,R.t)("Change Type")),m.createElement(w.default,{isVisible:r,size:A.Z.MEDIUM,exitHandler:o},m.createElement($,{discussion:t,onSuccess:o,onCancel:o})))},te=n(9022);function ne(e){var t=e.discussion,n=t.discussionID,s=t.resolved,r=void 0!==s&&s,i=(0,o.yZ)(n,"resolved"),c=i.patchDiscussion,a=i.isLoading;return m.createElement(K.Z,{label:r?(0,P.t)("Unresolve"):(0,P.t)("Resolve"),isLoading:a,onClick:function(){c({resolved:!r})},status:r})}var se=[];var re=function(e){var t,n,s,r=e.discussion,i=(0,o.SF)(r),c={resourceType:"category",resourceID:r.categoryID,mode:T.R9.RESOURCE_IF_JUNCTION},a=null===(t=(0,q.eu)().currentUser.data)||void 0===t?void 0:t.userID,u=r.insertUserID===a,l=(0,T.Fs)("discussions.moderate",c),d=l||u&&(0,T.Fs)("discussions.closeOwn",c),f=(0,T.Fs)("community.moderate",{mode:T.R9.GLOBAL}),p=(0,T.Fs)("discussions.manage",c),D=(0,T.Fs)("staff.allow",{mode:T.R9.GLOBAL_OR_RESOURCE}),v=[],y=(null!==(n=null==r||null===(s=r.category)||void 0===s?void 0:s.allowedDiscussionTypes)&&void 0!==n?n:[]).filter((function(e){return!te.NON_CHANGE_TYPE.includes(e)})).length>1&&i;return i&&v.push(m.createElement(B.Z,{to:"/post/editdiscussion/".concat(r.discussionID)},(0,R.t)("Edit"))),p&&v.push(m.createElement(z,{discussion:r})),v.push(m.createElement(X.Z,null)),l&&(v.push(m.createElement(G,{discussion:r})),v.push(m.createElement(Y,{discussion:r}))),f&&v.push(m.createElement(V,{discussion:r})),d&&v.push(m.createElement(Q,{discussion:r})),y&&v.push(m.createElement(ee,{discussion:r})),v.push(m.createElement(X.Z,null)),l&&v.push(m.createElement(J,{discussion:r})),v.push(m.createElement(X.Z,null)),void 0!==r.resolved&&D&&v.push(m.createElement(ne,{discussion:r})),se.forEach((function(e){e.permission&&!(0,T.Fs)(e.permission.permission,e.permission.options)||v.push(m.createElement(e.component,{discussion:r}))})),0===v.length?m.createElement(m.Fragment,null):m.createElement(b.ZP,{name:(0,R.t)("Discussion Options"),flyoutType:b.Um.LIST},v.map((function(e,t){return m.createElement(m.Fragment,{key:t},e)})))},ie=n(79289),oe=n(13638),ce=function(e){var t,n,s=e.discussion,r=s.discussionID,i=s.reactions,c=s.score,a=e.className,u=(0,o.XW)(r),l=(0,o.Bk)(r),f=(0,o.Ej)(r),D=(null==f?void 0:f.urlcode)==oe.P.UP,v=(null==f?void 0:f.urlcode)==oe.P.DOWN,y=i.find((function(e){return e.urlcode===oe.P.UP}));y&&(t=function(){var e=(0,d.Z)(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=D?l:(0,d.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u(y));case 1:case"end":return e.stop()}}),e)})));try{t()}catch(e){}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());var E=i.find((function(e){return e.urlcode===oe.P.DOWN}));return E&&(n=function(){var e=(0,d.Z)(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=v?l:(0,d.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u(E));case 1:case"end":return e.stop()}}),e)})));try{t()}catch(e){}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),m.createElement(ie.Z,{className:a,onToggleUpvoted:t,onToggleDownvoted:n,score:c,upvoted:D,downvoted:v})},ae=n(80129),ue=n.n(ae),le=n(16714),de=n(17225);function fe(e){var t,n=e.discussion,s=(0,y.E)(),r=(0,a.f)(),i=(0,E.tF)(),o=m.createElement(I.cy,{userInfo:n.insertUser,size:r.profilePhoto.size});n.insertUser&&(o=m.createElement(C.Z,{userFragment:n.insertUser},o));var c,l=m.createElement("div",null,o);if(i&&"idea"===n.type&&null!==(t=n.reactions)&&void 0!==t&&t.some((function(e){var t=e.urlcode;return[oe.P.UP,oe.P.DOWN].includes(t)}))){var d=n.reactions.filter((function(e){var t=e.urlcode;return[oe.P.UP,oe.P.DOWN].includes(t)})).length;c=s.iconAndVoteCounterWrapper(d),l=m.createElement("div",null,l,m.createElement("div",{className:s.voteCounterContainer},m.createElement(ce,{discussion:n})))}var f=m.createElement(m.Fragment,null,i&&m.createElement(m.Fragment,null,m.createElement(v,{discussion:n}),m.createElement(re,{discussion:n})));return m.createElement(h.H,{url:n.url,name:n.name,nameClassName:(0,u.cx)(s.title,{isRead:!n.unread&&i}),description:n.excerpt,metas:m.createElement(pe,n),actions:f,icon:l,iconWrapperClass:c})}function pe(e){var t,n=(0,a.f)().item.metas,s=n.display,r=n.asIcons,i=(0,y.E)(),o=(0,a.f)(),c=e.pinned,u=e.closed,d=e.insertUser,f=e.countViews,p=e.countComments,D=e.category,v=e.dateLastComment,E=e.lastUser,I=e.unread,h=e.countUnread,b=e.attributes,R=e.tags,B=e.score,x=e.resolved,w=I||void 0!==h&&h>0&&s.unreadCount,A=!!D&&s.category,N=!!d&&!(p>0)&&s.startedByUser,k=!N&&!!E&&s.lastUser,U=!(null==b||null===(t=b.question)||void 0===t||!t.status)&&s.qnaStatus,j=f>0&&s.viewCount,L=j&&r,_=p>0&&s.commentCount,G=_&&r,F=s.score,V=F&&r,W=!!v&&s.lastCommentDate,H=W&&r,M=!!R&&R.length>0&&s.userTags&&o.userTags.maxNumber>0,z=(0,T.Fs)("staff.allow",{mode:T.R9.GLOBAL_OR_RESOURCE}),q=void 0!==x&&z&&s.resolved;return m.createElement(m.Fragment,null,q&&m.createElement(O.q4,{className:i.resolved},m.createElement(le.Icon,{icon:x?"meta-resolved":"meta-unresolved","aria-label":x?(0,P.t)("Resolved"):(0,P.t)("Unresolved")})),u&&m.createElement(g.V,null,(0,P.t)("Closed")),c&&m.createElement(g.V,null,(0,P.t)("Announcement")),U&&m.createElement(g.V,null,(0,P.t)("".concat(function(e){switch(e){case"unanswered":return"Unanswered";case"answered":return"Answered";case"accepted":return"Accepted Answer";default:return e.charAt(0).toUpperCase()+e.slice(1)}}(b.question.status)))),M&&(null==R?void 0:R.slice(0,o.userTags.maxNumber).map((function(e,t){var n=ue().stringify({domain:"discussions",tagsOptions:[{value:e.tagID,label:e.name,tagCode:e.urlcode}]}),s="/search?".concat(n);return m.createElement(Z.Z,{to:s,key:t,className:i.userTag},m.createElement(g.V,null,e.name))}))),j&&!L&&m.createElement(O.y1,null,m.createElement(l.Z,{source:"<0/> views",c0:f})),_&&!G&&m.createElement(O.y1,null,m.createElement(l.Z,{source:"<0/> comments",c0:p})),F&&!V&&m.createElement(O.y1,null,m.createElement(l.Z,{source:"<0/> reactions",c0:null!=B?B:0})),N&&m.createElement(O.y1,null,m.createElement(l.Z,{source:"Started by <0/>",c0:m.createElement(C.Z,{userFragment:d})})),k&&m.createElement(O.y1,null,m.createElement(l.Z,{source:"Most recent by <0/>",c0:m.createElement(C.Z,{userFragment:E})})),A&&m.createElement(O.y1,null,m.createElement(Z.Z,{to:D.url},D.name)),w&&m.createElement(O.y1,null,m.createElement(S.Z,null,I?m.createElement(l.Z,{source:"New"}):m.createElement(l.Z,{source:"<0/> new",c0:e.countUnread}))),W&&!H&&v&&m.createElement(O.y1,null,m.createElement(de.Z,{timestamp:v})),L&&m.createElement(O.q4,null,m.createElement(le.Icon,{icon:"meta-view","aria-label":(0,P.t)("Views")})," ",f),H&&v&&m.createElement(O.q4,null,m.createElement(le.Icon,{icon:"meta-time","aria-label":(0,P.t)("Last comment")})," ",m.createElement(de.Z,{timestamp:v})),V&&m.createElement(O.q4,null,m.createElement(le.Icon,{icon:"meta-like","aria-label":(0,P.t)("Score")})," ",null!=B?B:0),G&&m.createElement(O.q4,null,m.createElement(le.Icon,{icon:"meta-comment","aria-label":(0,P.t)("Comments")})," ",p))}var me=n(4694),De=n(78039);function ve(e){var t=e.discussions,n=(0,a.f)();return m.createElement(De.a,(0,c.Z)({options:{box:n.contentBoxes.depth1,itemBox:n.contentBoxes.depth2}},e),0===t.length?m.createElement(me.S,{as:"li"},(0,P.t)("No discussions were found.")):t.map((function(e){return m.createElement(fe,{discussion:e,key:e.discussionID})})))}function ye(e){var t=(0,o.kc)(e.apiParams,e.discussions);return t.status===r.Px.LOADING||t.status===r.Px.PENDING?m.createElement(L.Z,null):!t.data||t.status===r.Px.ERROR||t.error?m.createElement(i.ed,{apiError:t.error}):m.createElement(ve,{discussions:t.data})}var Ee=n(76044);function Ie(e){var t=e.title,n=e.description,r=e.subtitle,i=e.viewAllUrl,o=(0,s.Z)(e,["title","description","subtitle","viewAllUrl"]);return m.createElement(Ee.h,{title:t,subtitle:r,options:{isGrid:!1,description:n,viewAll:{to:i}}},m.createElement(ye,o))}},9359:function(e,t,n){"use strict";n.d(t,{Dj:function(){return I},yj:function(){return h},Ej:function(){return O},XW:function(){return S},Bk:function(){return g},kc:function(){return C},SF:function(){return Z},yZ:function(){return b},kn:function(){return R}});var s=n(96156),r=n(92137),i=n(87757),o=n.n(i),c=n(34212),a=n(14494),u=n(22964),l=n(67294),d=n(27655),f=n(30758),p=n(91353),m=n(50674),D=n(64833),v=n(98674);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=(0,c.G)(),n=(0,a.v9)((function(t){var n,s;return{status:null!==(n=null!==(s=!!t.discussions.discussionsByID[e]&&u.Px.SUCCESS)&&void 0!==s?s:t.discussions.fullRecordStatusesByID[e].status)&&void 0!==n?n:u.Px.PENDING,data:t.discussions.discussionsByID[e]}})),s=n.status;return(0,l.useEffect)((function(){u.Px.PENDING.includes(s)&&t.getDiscussionByID({discussionID:e})}),[s,t,e]),n}function h(e){var t=(0,c.G)().putDiscussionBookmarked;function n(){return(n=(0,r.Z)(o().mark((function n(s){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t({discussionID:e,bookmarked:s});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(e){return n.apply(this,arguments)}}function O(e){return(0,a.v9)((function(t){var n,s;return null===(n=t.discussions.discussionsByID[e])||void 0===n||null===(s=n.reactions)||void 0===s?void 0:s.find((function(e){return e.hasReacted}))}))}function S(e){var t=(0,c.G)().postDiscussionReaction,n=O(e);function s(){return(s=(0,r.Z)(o().mark((function s(r){return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t({discussionID:e,reaction:r,currentReaction:n});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}}),s)})))).apply(this,arguments)}return function(e){return s.apply(this,arguments)}}function g(e){var t=(0,c.G)().deleteDiscussionReaction,n=O(e);function s(){return(s=(0,r.Z)(o().mark((function s(){return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t({discussionID:e,currentReaction:n});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}}),s)})))).apply(this,arguments)}return function(){return s.apply(this,arguments)}}function C(e,t){var n=(0,a.I0)(),s=(0,c.G)(),r=(0,d.Q6)(e);(0,l.useEffect)((function(){t?n(c.Z.getDiscussionListACs.done({params:e,result:t})):s.getDiscussionList(e)}),[t,e,r,n,s]);var i=(0,a.v9)((function(e){var t,n;return null!==(t=null===(n=e.discussions.discussionIDsByParamHash[r])||void 0===n?void 0:n.status)&&void 0!==t?t:u.Px.PENDING})),o=(0,a.v9)((function(e){return i===u.Px.SUCCESS?e.discussions.discussionIDsByParamHash[r].data.map((function(t){return e.discussions.discussionsByID[t]})):[]}));return{status:i,data:o}}function Z(e){(0,m.TE)();var t=(0,f.Fk)(),n=e.insertUserID===t,s=new Date,r=(0,D.xZ)("ui.editContentTimeout",-1)>-1?new Date(new Date(e.dateInserted).getTime()+1e3*(0,D.xZ)("ui.editContentTimeout")):null;return(0,p.Fs)("discussions.manage",{mode:p.R9.RESOURCE_IF_JUNCTION,resourceType:"category",resourceID:e.categoryID})||n&&!e.closed&&(null===r||s<r)}function P(e,t){return(0,a.v9)((function(n){var s,r;return null!==(s=null===(r=n.discussions.patchStatusByPatchID["".concat(e,"-").concat(t)])||void 0===r?void 0:r.status)&&void 0!==s?s:u.Px.PENDING}))}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,v.hu)("discussionPatch"),s=null!=t?t:n,r=P(e,s)===u.Px.LOADING,i=(0,c.G)(),o=(0,l.useCallback)((function(t){return i.patchDiscussion(E({discussionID:e,patchStatusID:s},t))}),[s,i,e]);return{isLoading:r,patchDiscussion:o}}function R(e){var t=function(e){return(0,a.v9)((function(t){var n,s;return null!==(n=null===(s=t.discussions.changeTypeByID[e])||void 0===s?void 0:s.status)&&void 0!==n?n:u.Px.PENDING}))}(e)===u.Px.LOADING,n=(0,c.G)();return{isLoading:t,putDiscussionType:(0,l.useCallback)((function(t){return n.putDiscussionType(E({discussionID:e},t))}),[n,e])}}},51302:function(e,t,n){"use strict";n.d(t,{G:function(){return f}});var s=n(96156),r=n(22964),i=n(34212),o=n(87219),c=n(76983),a=n(27655);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){var s,r,i,o,c=null!==(s=null===(r=n.removeReaction)||void 0===r?void 0:r.reactionValue)&&void 0!==s?s:0,a=null!==(i=null===(o=n.addReaction)||void 0===o?void 0:o.reactionValue)&&void 0!==i?i:0,u=e.discussionsByID[t].score-c+a;return e.discussionsByID[t].score=u,e.discussionsByID[t].reactions=e.discussionsByID[t].reactions.map((function(e){var t,s;return l(l({},e),{},{hasReacted:null!==(t=e.urlcode===(null===(s=n.addReaction)||void 0===s?void 0:s.urlcode))&&void 0!==t&&t})})),e}var f=(0,o.ZP)((0,c.reducerWithInitialState)({discussionsByID:{},discussionIDsByParamHash:{},fullRecordStatusesByID:{},bookmarkStatusesByID:{},patchStatusByPatchID:{},deleteStatusesByID:{},changeTypeByID:{},postReactionStatusesByID:{},deleteReactionStatusesByID:{}}).case(i.Z.getDiscussionByIDACs.started,(function(e,t){var n=t.discussionID;return e.fullRecordStatusesByID[n]={status:r.Px.LOADING},e})).case(i.Z.getDiscussionByIDACs.failed,(function(e,t){var n=t.params.discussionID;return e.fullRecordStatusesByID[n]={status:r.Px.ERROR,error:t.error},e})).case(i.Z.getDiscussionByIDACs.done,(function(e,t){var n=t.params.discussionID;return e.fullRecordStatusesByID[n]={status:r.Px.SUCCESS},e.discussionsByID[n]=l(l({},e.discussionsByID[n]),t.result),e})).case(i.Z.putDiscussionBookmarkedACs.started,(function(e,t){var n=t.discussionID;return e.bookmarkStatusesByID[n]={status:r.Px.LOADING},e})).case(i.Z.putDiscussionBookmarkedACs.done,(function(e,t){var n=t.params.discussionID;return e.bookmarkStatusesByID[n]={status:r.Px.SUCCESS},e.discussionsByID[n]=l(l({},e.discussionsByID[n]),{},{bookmarked:t.result.bookmarked}),e})).case(i.Z.putDiscussionTypeACs.started,(function(e,t){var n=t.discussionID;return e.changeTypeByID[n]={status:r.Px.LOADING},e})).case(i.Z.putDiscussionTypeACs.done,(function(e,t){var n=t.params.discussionID;return e.changeTypeByID[n]={status:r.Px.SUCCESS},e.discussionsByID[n]=l(l({},e.discussionsByID[n]),t.result),e})).case(i.Z.putDiscussionTypeACs.failed,(function(e,t){var n=t.params.discussionID;return e.changeTypeByID[n]={status:r.Px.ERROR,error:t.error},e})).case(i.Z.getDiscussionListACs.started,(function(e,t){var n=(0,a.Q6)(t);return e.discussionIDsByParamHash[n]={status:r.Px.LOADING},e})).case(i.Z.getDiscussionListACs.done,(function(e,t){var n=(0,a.Q6)(t.params);return e.discussionIDsByParamHash[n]={status:r.Px.SUCCESS,data:t.result.map((function(e){return e.discussionID}))},t.result.forEach((function(t){e.discussionsByID[t.discussionID]=l(l({},e.discussionsByID[t.discussionID]),t)})),e})).case(i.Z.getDiscussionListACs.failed,(function(e,t){var n=(0,a.Q6)(t.params);return e.discussionIDsByParamHash[n]={status:r.Px.ERROR,error:t.error},e})).case(i.Z.patchDiscussionACs.started,(function(e,t){var n=t.discussionID,s=t.patchStatusID;return e.patchStatusByPatchID["".concat(n,"-").concat(s)]={status:r.Px.LOADING},e})).case(i.Z.patchDiscussionACs.done,(function(e,t){var n=t.params,s=n.discussionID,i=n.patchStatusID;return e.patchStatusByPatchID["".concat(s,"-").concat(i)]={status:r.Px.SUCCESS},e.discussionsByID[t.result.discussionID]=l(l({},e.discussionsByID[t.result.discussionID]),t.result),e})).case(i.Z.patchDiscussionACs.failed,(function(e,t){var n=t.params,s=n.discussionID,i=n.patchStatusID;return e.patchStatusByPatchID["".concat(s,"-").concat(i)]={status:r.Px.ERROR,error:t.error},e})).case(i.Z.deleteDiscussionACs.started,(function(e,t){var n=t.discussionID;return e.deleteStatusesByID[n]={status:r.Px.LOADING},e})).case(i.Z.deleteDiscussionACs.done,(function(e,t){var n=t.params.discussionID;return e.deleteStatusesByID[n]={status:r.Px.SUCCESS},delete e.discussionsByID[n],Object.keys(e.discussionIDsByParamHash).forEach((function(t){void 0!==e.discussionIDsByParamHash[t].data&&(e.discussionIDsByParamHash[t].data=e.discussionIDsByParamHash[t].data.filter((function(e){return e!==n})))})),e})).case(i.Z.deleteDiscussionACs.failed,(function(e,t){var n=t.params.discussionID;return e.deleteStatusesByID[n]={status:r.Px.ERROR,error:t.error},e})).case(i.Z.postDiscussionReactionACs.started,(function(e,t){var n=t.discussionID,s=t.reaction,i=t.currentReaction;return e.postReactionStatusesByID[n]={status:r.Px.PENDING},d(e,n,{removeReaction:i,addReaction:s}),e})).case(i.Z.postDiscussionReactionACs.done,(function(e,t){var n=t.params.discussionID;return e.postReactionStatusesByID[n]={status:r.Px.SUCCESS},e})).case(i.Z.postDiscussionReactionACs.failed,(function(e,t){var n=t.params,s=n.discussionID,i=n.reaction,o=n.currentReaction;return e.postReactionStatusesByID[s]={status:r.Px.ERROR,error:t.error},d(e,s,{removeReaction:i,addReaction:o}),e})).case(i.Z.deleteDiscussionReactionACs.started,(function(e,t){var n=t.discussionID,s=t.currentReaction;return e.deleteReactionStatusesByID[n]={status:r.Px.PENDING},d(e,n,{removeReaction:s}),e})).case(i.Z.deleteDiscussionReactionACs.done,(function(e,t){var n=t.params.discussionID;return e.deleteReactionStatusesByID[n]={status:r.Px.SUCCESS},e})).case(i.Z.deleteDiscussionReactionACs.failed,(function(e,t){var n=t.params,s=n.discussionID,i=n.currentReaction;return e.deleteReactionStatusesByID[s]={status:r.Px.ERROR,error:t.error},d(e,s,{addReaction:i}),e})))},9022:function(e,t,n){"use strict";n.r(t),n.d(t,{NON_CHANGE_TYPE:function(){return I},default:function(){return h}});var s=n(67294),r=n(64833),i=n(34182),o=n(29571),c=n(74232),a=n(51523),u=n(15172),l=n(58508),d=n(18948),f=n(66688),p=n(95116),m=n(63059),D=n(43498),v=n(26444),y=n(9359),E=n(27655),I=["poll","event"];function h(e){var t,n,h=e.onCancel,O=e.onSuccess,S=e.discussion,g=(0,y.kn)(S.discussionID).putDiscussionType,C=(0,d.TA)({initialValues:{type:S.type},onSubmit:function(e){var t=e.type;g({type:t}),O()}}),Z=(0,a.V)(),P=(0,c.B)(),b=null!==(t=null==S||null===(n=S.category)||void 0===n?void 0:n.allowedDiscussionTypes)&&void 0!==t?t:void 0,R=C.isSubmitting,B=C.handleSubmit,T=C.handleChange,x=[];return b&&(x=b.map((function(e){if(e.length>1&&!I.includes(e))return s.createElement(p.Z,{key:e,defaultChecked:C.values.type===e,onChange:T,name:"type",value:"".concat(e),label:(0,r.t)("".concat((0,E.e_)(e)))})}))),s.createElement("form",{onSubmit:B},s.createElement(i.Z,{header:s.createElement(l.Z,{closeFrame:h,title:(0,r.t)("Change Discussion Type")}),body:s.createElement(o.Z,null,s.createElement("div",{className:Z.contents},s.createElement(s.Fragment,null,(0,r.t)("Select Discussion Type:")),s.createElement(f.Z,null,x))),footer:s.createElement(u.Z,{justifyRight:!0},s.createElement(m.Z,{buttonType:D.q.TEXT,onClick:h,className:P.actionButton},(0,r.t)("Cancel")),s.createElement(m.Z,{submit:!0,disabled:R,buttonType:D.q.TEXT_PRIMARY,className:P.actionButton},R?s.createElement(v.Z,null):(0,r.t)("OK")))}))}}}]);